(self.webpackChunkssai_chat=self.webpackChunkssai_chat||[]).push([[917],{14917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ia}),n(15086);var a=n(94055),r=(n(1025),n(65400)),i=(n(23461),n(53740)),o=n(67294),l=n(28216),c=n(41935),s=n(1273),p=(n(73431),n(16373)),u=(n(58136),n(5789)),m=(n(89581),n(84996)),d=(n(56120),n(74253)),f=(n(54277),n(74048)),g=(n(30467),n(55673)),v=(n(92871),n(35928)),y=(n(82815),n(84960)),E=n(11690),b=n(85518),h=n(86658),x=n(30381),S=n.n(x),w=n(86896),T=n(29391),O=n(40963),A=n(45021),C=n.n(A),I=n(93488);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==k(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===k(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){var t=e.suggestion,n=e.messageToSend,a=(0,l.I0)(),i=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),c=(0,l.v9)((function(e){return e.connectedAccount.data})),s=(0,l.v9)((function(e){return e.messaging.conversationId})),p=i.context,u=(0,l.v9)((function(e){return e.messaging.liveContext})),m=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),d=_((0,o.useState)(!1),2),f=d[0],v=d[1],y=_((0,o.useState)(),2),E=y[0],b=y[1],h={height:"auto",width:"100%",fontSize:m["@font-size-base"],borderRadius:15,overflowWrap:"anywhere"},x=_((0,o.useState)(!1),2),w=x[0],A=x[1];return(0,o.useEffect)((function(){b(P(P({},h),f?{backgroundColor:m["@suggestion-hover-background-color"],color:m["@suggestion-hover-text-color"],borderColor:m["@suggestion-hover-border-color"]}:{backgroundColor:m["@suggestion-background-color"],color:m["@suggestion-text-color"],borderColor:m["@suggestion-border-color"]}))}),[f]),o.createElement("div",null,o.createElement(r.default,{size:"small",shape:"round",className:"suggestions-wrapper",onMouseEnter:function(){return v(!f)},onMouseLeave:function(){return v(!f)},style:E,disabled:w,onClick:function(){w||(A(!0),function(e){var t,r=new O.v;r.setConversation(s);var o=n?null===(t=JSON.parse(n))||void 0===t?void 0:t.type:C().MESSAGE_TYPES.SUGGESTIONS;r.setType(o),r.setTTS(!1),r.setAuthor(c),r.setContent(n||e),r.setCreatedAt(S()().unix()),r.setLocale(i.locale),r.setContext(P(P({},p),u)),a((0,T.J)(r))}(t))}},o.createElement(g.default,null,o.createElement("div",{style:{width:30}},o.createElement(I.Z,null)),o.createElement("div",{style:{width:"calc(100% - 30px)",whiteSpace:"break-spaces",textAlign:"left"}},t))))},M=(n(14574),n(56590)),Z=(n(89626),n(70302)),D=(n(47811),n(91633));function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var F=function(e){var t={};return null===e?{}:(e.split(";").forEach((function(e){var n,a,r=(n=e.split(":"),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(n,a)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];if(i&&o){var l=function(e){var t=e.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")}(i.trim());t[l]=o.trim()}})),t)},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return"";if(0===e)return"0 Bytes";var n=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]},z=n(44012),H=function(e){return o.createElement(z.Z,{id:e.id,values:e.valuesGiven,defaultMessage:e.defaultMessage})},V=(n(53294),n(56697)),U=n(67724),Y=n(8812),q=n(16165),W=n(95357),K=n(19671);function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$.apply(this,arguments)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var X=function(e){var t=e.htmlData,n=(0,l.I0)(),a=Q((0,o.useState)(0),2),i=a[0],c=a[1],p=Array.from(t.childNodes).filter((function(e){return 3!==e.nodeType})),u=Array.from(p[i].childNodes).filter((function(e){return 3!==e.nodeType})),m=Q((0,o.useState)(!1),2),d=m[0],f=m[1],v=Q((0,o.useState)(u),2),y=v[0],E=v[1],b=(0,l.v9)((function(e){return e.settings.themeKit.themeVars}));return o.createElement(g.default,null,o.createElement(r.default,{disabled:0===i,shape:"circle",icon:o.createElement(U.Z,null),onClick:function(){return c(i-1)},style:{marginLeft:"-30px"}}),p&&p[i]&&o.createElement(ne,{data:u,setSmartSearchPreviewData:E,setSmartSearchPreview:f}),o.createElement(r.default,{disabled:i===p.length-1,shape:"circle",icon:o.createElement(Y.Z,null),onClick:function(){return c(i+1)},style:{marginRight:"-30px"}}),o.createElement(V.Z,{title:y&&y[0].childNodes[0].textContent,style:{top:0,height:"100%",maxWidth:"inherit",paddingBottom:0},className:"ss-preview-modal",visible:d,footer:null,onCancel:function(){f(!1),E(void 0),n((0,s.vm)())},width:"100%"},y&&o.createElement(o.Fragment,null,o.createElement("div",{dangerouslySetInnerHTML:{__html:y[1].innerHTML}}),o.createElement(Z.Z,{key:"".concat(y.tagName,"-",0),style:{borderLeft:"4px solid "+b["@primary-color"]}},o.createElement("div",{dangerouslySetInnerHTML:{__html:y[2].innerHTML}})),o.createElement("div",{dangerouslySetInnerHTML:{__html:y[3].innerHTML}}))))},ee=function(){return o.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 13C12.5523 13 13 12.5523 13 12V3C13 2.44771 12.5523 2 12 2H3C2.44771 2 2 2.44771 2 3V6.5C2 6.77614 2.22386 7 2.5 7C2.77614 7 3 6.77614 3 6.5V3H12V12H8.5C8.22386 12 8 12.2239 8 12.5C8 12.7761 8.22386 13 8.5 13H12ZM9 6.5C9 6.5001 9 6.50021 9 6.50031V6.50035V9.5C9 9.77614 8.77614 10 8.5 10C8.22386 10 8 9.77614 8 9.5V7.70711L2.85355 12.8536C2.65829 13.0488 2.34171 13.0488 2.14645 12.8536C1.95118 12.6583 1.95118 12.3417 2.14645 12.1464L7.29289 7H5.5C5.22386 7 5 6.77614 5 6.5C5 6.22386 5.22386 6 5.5 6H8.5C8.56779 6 8.63244 6.01349 8.69139 6.03794C8.74949 6.06198 8.80398 6.09744 8.85143 6.14433C8.94251 6.23434 8.9992 6.35909 8.99999 6.49708L8.99999 6.49738",fill:"currentColor"}))},te=function(e){return o.createElement(q.Z,$({component:ee},e))},ne=function(e){var t=e.data,n=e.setSmartSearchPreview,a=e.setSmartSearchPreviewData,c=(0,l.I0)(),p=t[0].childNodes[0].nodeValue.trim(),m=t[0].childNodes[1].childNodes[0].nodeValue.trim(),d=(0,l.v9)((function(e){return e.settings.themeKit.themeVars}));return o.createElement(u.default,{style:{margin:10,maxWidth:230}},o.createElement(g.default,null,o.createElement(i.Z.Text,{strong:!0},p)),o.createElement(g.default,null),o.createElement(g.default,null,o.createElement(i.Z.Paragraph,null,o.createElement("blockquote",{style:{borderLeft:"4px solid "+d["@primary-color"]}},o.createElement("div",{dangerouslySetInnerHTML:{__html:t[2].innerHTML}})))),o.createElement(g.default,null),p.includes(".aspx")||p.includes(".html")?o.createElement(g.default,null,o.createElement(r.default,null,o.createElement("a",{href:m,target:"__blank"},o.createElement(te,null)))):o.createElement(g.default,null,o.createElement(r.default,{icon:o.createElement(W.Z,null),onClick:function(){n(!0),a(t),c((0,s.vm)())}}),o.createElement(r.default,null,o.createElement("a",{href:m,target:"__blank"},o.createElement(K.Z,null)))))};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ae.apply(this,arguments)}var re=function(e,t){var n=(0,l.I0)(),a={color:"inherit"},r=(0,l.v9)((function(e){return e.settings.themeKit.themeVars}));if(3===e.nodeType)return""!==e.nodeValue.trim()?e.nodeValue:o.createElement("span",{key:"leaf-".concat(t)});var c=[];switch(e.tagName){case"SMARTSEARCHTEMPLATE":c.push(o.createElement(X,{htmlData:e,key:"SmartSearchSearch-"+t}));break;case"DIV":c.push(o.createElement("div",{key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"P":c.push(o.createElement("p",{key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"SPAN":c.push(o.createElement("span",{key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"BLOCKQUOTE":c.push(o.createElement("blockquote",{key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"IFRAME":c.push(o.createElement("iframe",{key:"".concat(e.tagName,"-").concat(t),width:"300px",src:e.getAttribute("src"),title:e.getAttribute("title"),frameBorder:e.getAttribute("frameborder"),allow:e.getAttribute("allow"),allowFullScreen:"true"===e.getAttribute("allowfullscreen"),style:F(e.getAttribute("style"))},ie(e,t)));break;case"H1":c.push(o.createElement(i.Z.Title,{level:1,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"H2":c.push(o.createElement(i.Z.Title,{level:2,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"H3":c.push(o.createElement(i.Z.Title,{level:3,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"H4":c.push(o.createElement(i.Z.Title,{level:4,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"UL":c.push(o.createElement("ul",{key:"".concat(e.tagName,"-").concat(t),style:ae({maxWidth:"270px"},a,F(e.getAttribute("style")))},ie(e,t)));break;case"OL":c.push(o.createElement("ol",{key:"".concat(e.tagName,"-").concat(t),style:ae({maxWidth:"270px"},a,F(e.getAttribute("style")))},ie(e,t)));break;case"LI":c.push(o.createElement("li",{key:"".concat(e.tagName,"-").concat(t),style:ae({maxWidth:"270px"},a,F(e.getAttribute("style")))},ie(e,t)));break;case"STRIKE":case"DEL":c.push(o.createElement(i.Z.Text,{delete:!0,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"B":case"STRONG":c.push(o.createElement(i.Z.Text,{strong:!0,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"U":case"INS":c.push(o.createElement(i.Z.Text,{underline:!0,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"A":c.push(o.createElement(i.Z.Link,{href:e.getAttribute("href"),target:e.getAttribute("target")||"__blank",key:"".concat(e.tagName,"-").concat(t),style:ae({textDecoration:"underline",margin:"0 1px",color:r["@url-bot-color"]},F(e.getAttribute("style")))},ie(e,t)));break;case"I":case"EM":c.push(o.createElement(i.Z.Text,{italic:!0,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"SUP":c.push(o.createElement("sup",{key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"SUB":c.push(o.createElement("sub",{key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"MARK":c.push(o.createElement(i.Z.Text,{mark:!0,key:"".concat(e.tagName,"-").concat(t),style:ae(a,F(e.getAttribute("style")))},ie(e,t)));break;case"IMG":return o.createElement(D.Z,{key:"".concat(e.tagName,"-").concat(t),src:e.getAttribute("src"),alt:e.getAttribute("alt"),preview:{src:e.getAttribute("src"),onVisibleChange:function(){return n((0,s.vm)())},mask:o.createElement("div",{className:"ant-image-mask"},o.createElement("div",{className:"ant-image-mask-info"},o.createElement("span",{role:"img","aria-label":"eye",className:"anticon anticon-eye"},o.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"eye",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o.createElement("path",{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}))),o.createElement(H,{id:"IMG_PREVIEW"})))}});case"BR":return o.createElement("br",{key:"".concat(e.tagName,"-").concat(t)});case"HR":return o.createElement(d.Z,{key:"".concat(e.tagName,"-").concat(t)});default:c.push(ie(e,t))}return c},ie=function(e,t){var n=[];if(null!=e.childNodes[0])for(var a=0;a<e.childNodes.length;a++){var r=t+a,i=e.childNodes[a];n.push(re(i,r))}return n},oe=n(96755),le=n(53587),ce=n(90473),se=n(50291),pe=n(48176),ue=n(15132),me=n(86504),de=n(34017),fe=n(58812),ge=n(81825),ve=(n(1131),n(28465)),ye=n(54549),Ee=n(1950);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==be(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===be(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Te=function(e){var t,n,c=e.acceptedFileTypes,s=(0,l.I0)(),p=(0,l.v9)((function(e){return e.settings.themeKit})),m=p&&p.themeVars,f=(0,l.v9)((function(e){return e.messaging.files})),v=(t=(0,o.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=v[0],E=v[1],b=c&&c.toString()||"";(0,o.useEffect)((function(){c&&c.length>0&&E(c.map((function(e){return Object.keys(Ee.L).find((function(t){return Ee.L[t]===e}))})))}),[]);var h=(0,l.v9)((function(e){return e.connectedAccount.data})),x=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),S=x.context,w=(0,l.v9)((function(e){return e.messaging.liveContext})),A=(0,l.v9)((function(e){return e.messaging.isSendingMessage})),I=(0,l.v9)((function(e){return e.messaging.conversationId}));return o.createElement(u.default,{span:24,style:{marginTop:20,width:300,borderRadius:22,padding:10,background:m["@background-bot-color"]}},o.createElement(g.default,{justify:"center"},o.createElement(i.Z.Title,{level:5,style:{margin:0,color:m["@text-bot-color"]}},o.createElement(H,{id:"UPLOAD_FILE"}))),c&&o.createElement(g.default,{justify:"center"},o.createElement(i.Z.Text,{style:{color:m["@text-bot-color"]}},o.createElement(H,{id:"UPLOAD_FILE_EXTENSION_ACCEPTED",valuesGiven:{extensions:y.toString().toUpperCase()}}))),o.createElement(d.Z,{style:{border:0,margin:10}}),f&&0===f.length&&o.createElement(u.default,{span:24},o.createElement(g.default,{justify:"center"},o.createElement(ve.Z,{accept:b,beforeUpload:function(e){return s((0,T.cT)(e)),!1},showUploadList:!1,multiple:!1},o.createElement(r.default,{shape:"round",type:"primary",style:{color:m["@text-user-color"]}},o.createElement(H,{id:"UPLOAD_FILE_CHOOSE_BTN",defaultMessage:"Choose"}))))),f&&f.length>0&&o.createElement(u.default,{span:24},o.createElement(g.default,null,o.createElement(M.default,{size:"small",dataSource:f,style:{width:"100%"},renderItem:function(e){var t,n=e.type;return t=n.includes("application/pdf")?o.createElement(oe.Z,null):n.includes("image/")?o.createElement(le.Z,null):n.includes("application/msword")||n.includes("officedocument.wordprocessingml.document")?o.createElement(ce.Z,null):n.includes("application/ms-powerpoint")||n.includes("officedocument.presentationml.presentation")?o.createElement(se.Z,null):n.includes("application/vnd.ms-excel")||n.includes("officedocument.spreadsheetml.sheet")?o.createElement(pe.Z,null):n.includes("application/zip")?o.createElement(ue.Z,null):o.createElement(me.Z,null),o.createElement(M.default.Item,{key:e.uid,style:{backgroundColor:"transparent",borderRadius:10,margin:5}},o.createElement(g.default,{style:{width:"100%",alignItems:"center"}},o.createElement("div",{style:{fontSize:25}},t),o.createElement(i.Z.Text,{strong:!0,style:{marginLeft:3}},e.name),o.createElement("div",{style:{marginLeft:"auto"}},B(e.size),o.createElement(a.default,{title:"delete"},o.createElement(ye.Z,{style:{fontSize:16},onClick:function(){return s((0,T.bH)(e.name))}})))))}})),o.createElement(g.default,{justify:"end"},o.createElement(r.default,{shape:"round",type:"primary",style:{color:m["@text-user-color"]},onClick:function(){return function(){if(f&&f.length>0){var e=new O.v;e.setAuthor(h),e.setIsFromPlugin(!1),e.setConversation(I),e.setLocale(x.locale),e.setType(C().MESSAGE_TYPES.FILES),e.setFiles(f),f.forEach((function(t){e.addToAttachments({filename:t.name,size:t.size,uploadedAt:t.lastModified,mimeType:t.type})})),e.setContext(xe(xe({},S),w)),s((0,T.J)(e)),s((0,T.bH)("all"))}}()},loading:A},o.createElement(H,{id:"UPLOAD_FILE_SEND_BTN",defaultMessage:"Send"})))))},Oe=n(45195),Ae=n(87907)("TTS"),Ce=function(e){var t=e.message,n=(0,l.v9)((function(e){return e.settings.themeKit})),a=n&&n.themeVars,r=(0,l.v9)((function(e){return e.settings})),i=r.sentFromIntegrationScript.locale,c=r.currentState.enableTTS,s=r.currentState.TTSVoiceName,p=r.currentState.TTSReadingSpeed,u=(r.currentState.enableAutomaticTTS,window.speechSynthesis),m="string"==typeof t.content&&t.content.replace(/<[^>]*>?/gm,"").replace(/(\r\n|\n|\r)/gm,"").replace("&nbsp;","");return"speechSynthesis"in window&&c?o.createElement(Oe.Z,{id:"TTS-icon",onClick:function(){return function(){if("speechSynthesis"in window){u.cancel();var e=new SpeechSynthesisUtterance(m);e.onerror=function(e){Ae.error("An error has occurred with the speech synthesis: "+e.error)},e.lang=i,e.voice=u.getVoices().filter((function(e){return e.name==s}))[0],e.rate=p||1,function(e,t){var n;n=setTimeout((function e(){t.pause(),t.resume(),n=setTimeout(e,1e4)}),1e4),e.onend=function(){return clearTimeout(n)},t.speak(e)}(e,u)}}()},style:{color:a["@text-snippet-color"]}}):o.createElement("span",{style:{display:"none"}})};function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==Ie(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ie(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(e){var t=e.message,n=e.nextMessage,a=e.previousMessage,i=e.onReactionClick,c=(0,l.v9)((function(e){return e.settings.themeKit})),s=c&&c.themeVars,p=c&&c.avatar,u=function(){switch(t.type){case C().MESSAGE_TYPES.DIALOG.KNOWLEDGE.ADVICE:return[s["@background-dialog-advice-color"],s["@text-dialog-advice-color"]];case C().MESSAGE_TYPES.DIALOG.KNOWLEDGE.INFORMATION:return[s["@background-dialog-information-color"],s["@text-dialog-information-color"]];case C().MESSAGE_TYPES.DIALOG.KNOWLEDGE.WARNING:return[s["@background-dialog-warning-color"],s["@text-dialog-warning-color"]];case C().MESSAGE_TYPES.DIALOG.REQUEST_UPLOAD:default:return[s["@background-bot-color"],s["@text-bot-color"]]}},m={position:"relative",padding:"10px 16px 10px",marginBottom:"2px",background:u()[0],color:u()[1],borderRadius:22,borderBottomLeftRadius:2},d=n&&n.isFromPlugin||!1;a&&a.isFromPlugin&&(m=_e(_e({},m),{},{borderTopLeftRadius:2}));var f=t&&t.reaction&&t.reaction.value,g=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),v=S().unix(t.createdAt).locale(g).fromNow(),E=(new DOMParser).parseFromString(t.content,"text/html"),b=re(E.body,0);return o.createElement(o.Fragment,null,o.createElement("div",{style:{display:"flex"}},!d&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:""!=p?"":o.createElement(de.Z,null),src:""!=p?p:""})),o.createElement("div",{className:"message-content",style:m},b,o.createElement("div",{className:"message-reaction",style:{bottom:0,right:-52,minWidth:52}},o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"success-color",icon:o.createElement(fe.Z,null),onClick:function(){return i(1,t)}}),o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"error-color",icon:o.createElement(ge.Z,null),onClick:function(){return i(-1,t)}})),(1===f||-1===f)&&o.createElement("div",{className:"message-reaction-result",style:{bottom:0,right:-30}},1===f&&o.createElement(r.default,{type:"link",size:"small",className:"success-color",icon:o.createElement(fe.Z,null)}),-1===f&&o.createElement(r.default,{type:"link",size:"small",className:"error-color",icon:o.createElement(ge.Z,null)}))),o.createElement(Ce,{message:t})),o.createElement("div",{style:{textAlign:"left",fontSize:"0.8em",color:s["@text-snippet-color"]}},!d&&v))},Pe=n(68091),Re=n.n(Pe),Le=n(89366),Me=n(7085),Ze=n(25770);function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t=function(e){var t=function(e,t){if("object"!==De(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==De(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===De(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=Ze.Z.getInstance(),He=function(e){var t=e.message,n=e.nextMessage,a=e.previousMessage,i=e.onReactionClick,c=t.type===C().MESSAGE_TYPES.LIVECHAT.OPERATOR,s=t.type===C().MESSAGE_TYPES.LIVECHAT.OPERATOR_TYPING,p=t.type===C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.REQUESTING_SCREEN_SHARE,m=t.type===C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.READY_FOR_OFFER,d=t.type===C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.CANDIDATE_FROM_OPERATOR,v=t.type===C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.ANSWER,E=(0,l.v9)((function(e){return e.messaging.livechat})),b=E&&E.operatorInfo&&E.operatorInfo.operatorProfilePic,h=E&&E.operatorInfo&&E.operatorInfo.firstName,x=t&&t.reaction&&t.reaction.value,w=E&&E.cobrowsingMessage,O=(0,l.v9)((function(e){return e.settings.themeKit})),A=O&&O.themeVars,I=O&&O.avatar,k=function(){switch(t.type){case C().MESSAGE_TYPES.LIVECHAT.OPERATOR:case C().MESSAGE_TYPES.LIVECHAT.OPERATOR_TYPING:case C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.REQUESTING_SCREEN_SHARE:case C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.READY_FOR_OFFER:case C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.CANDIDATE_FROM_OPERATOR:case C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.ANSWER:return[A["@background-livechat-operator-color"],A["@text-livechat-operator-color"]];case C().MESSAGE_TYPES.LIVECHAT.SYSTEM:default:return[A["@background-livechat-system-color"],A["@text-livechat-system-color"]]}},_={position:"relative",padding:"10px 16px 10px",marginBottom:"2px",background:k()[0],color:k()[1],borderRadius:22,borderBottomLeftRadius:2},j=c&&n&&n.type===t.type,N=c&&a&&a.type===t.type,P=n&&n.isFromPlugin&&j||!1;a&&a.isFromPlugin&&N&&(_=Fe(Fe({},_),{},{borderTopLeftRadius:2}));var R=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),L=S().unix(t.createdAt).locale(R).fromNow(),M=(0,l.I0)();return p||m||d||v?o.createElement(g.default,{justify:"start"},o.createElement("div",{className:"message-bot"},o.createElement("div",{className:"content-wrapper"},o.createElement("div",{className:"avatar",style:{minWidth:"42px"}},o.createElement(y.ZP,{icon:""!=b?"":o.createElement(Le.Z,null),src:""!=b?b:""})),o.createElement(u.default,{className:"content",style:Fe(Fe({},_),{},{borderRadius:22})},p&&o.createElement(o.Fragment,null,o.createElement(g.default,null,w&&w.length?w:o.createElement(H,{id:"LIVECHAT_CO_BROWSING_QUERY"})),o.createElement(g.default,{justify:"end"},o.createElement(f.default,null,o.createElement(r.default,{type:"primary",shape:"round",style:{color:A["@text-user-color"]},onClick:function(){navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"monitor",logicalSurface:!0,curstor:"always"}}).then((function(e){var t=setTimeout((function(){M((0,T.j_)())}),1e4|parseInt(window.env.COBROWSING_SYNC_TIMEOUT,10));M((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.CO_BROWSING_SCREEN_SHARE_GRANTED,conversationId:ze.getConversationId()},{stream:e,cobrowsingSyncTimeout:t}))})).catch((function(e){console.error("Error while getting Display - ".concat(e.message))}))}},o.createElement(H,{id:"YES"})),o.createElement(r.default,{type:"ghost",shape:"round",style:{},onClick:function(){M((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.CO_BROWSING_SCREEN_SHARE_DENIED,conversationId:ze.getConversationId()}))}},o.createElement(H,{id:"NO"}))))),m&&o.createElement(o.Fragment,null,o.createElement(g.default,{align:"middle"},o.createElement(Me.Z,null),o.createElement(H,{id:"LIVECHAT_CO_BROWSING_OFFER_CANDIDATE"}))),d&&o.createElement(o.Fragment,null,o.createElement(g.default,{align:"middle"},o.createElement(Me.Z,null),o.createElement(H,{id:"LIVECHAT_CO_BROWSING_OFFER_OPERATOR"}))),v&&o.createElement(o.Fragment,null,o.createElement(g.default,{align:"middle"},o.createElement(H,{id:"LIVECHAT_CO_BROWSING_OFFER_END"}))))))):t.type===C().MESSAGE_TYPES.LIVECHAT.FEEDBACK?o.createElement("div",null):o.createElement(o.Fragment,null,o.createElement("div",{style:{display:"flex"}},!P&&(c||s)&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:""!=b?"":o.createElement(Le.Z,null),src:""!=b?b:""})),!P&&!c&&!s&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:""!=I?"":o.createElement(de.Z,null),src:""!=I?I:""})),o.createElement("div",{className:"message-content",style:_},function(){if(s)return o.createElement("div",{className:"livechat-operator-typing",style:{width:"100%",margin:"10px 0px 10px"}},o.createElement("div",{className:"livechat-operator-typing-dot"}),o.createElement("div",{className:"livechat-operator-typing-dot"}),o.createElement("div",{className:"livechat-operator-typing-dot"}));var e=(new DOMParser).parseFromString(t.content,"text/html");return re(e.body,0)}(),o.createElement("div",{className:"message-reaction",style:{bottom:0,right:-52,minWidth:52}},o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"success-color",icon:o.createElement(fe.Z,null),onClick:function(){return i(1,t)}}),o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"error-color",icon:o.createElement(ge.Z,null),onClick:function(){return i(-1,t)}})),(1===x||-1===x)&&o.createElement("div",{className:"message-reaction-result",style:{bottom:0,right:-30}},1===x&&o.createElement(r.default,{type:"link",size:"small",className:"success-color",icon:o.createElement(fe.Z,null)}),-1===x&&o.createElement(r.default,{type:"link",size:"small",className:"error-color",icon:o.createElement(ge.Z,null)}))),o.createElement(Ce,{message:t})),!P&&o.createElement("div",{style:{textAlign:"left",fontSize:"0.8em",color:A["@text-snippet-color"]}},(c||s)&&h&&"".concat(h," - "),L))};function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==Ve(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ve(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){var t=e.message,n=e.nextMessage,a=e.previousMessage,r=t.type===C().MESSAGE_TYPES.GENESYS.MESSAGE,i=t.type===C().MESSAGE_TYPES.GENESYS.OPERATOR_TYPING,c=t.type===C().MESSAGE_TYPES.GENESYS.FORM,s=(0,l.v9)((function(e){return e.settings.themeKit})),p=null==s?void 0:s.themeVars,u=null==s?void 0:s.avatar,m=function(){switch(t.type){case C().MESSAGE_TYPES.GENESYS.MESSAGE:case C().MESSAGE_TYPES.GENESYS.OPERATOR_TYPING:return[p["@background-livechat-operator-color"],p["@text-livechat-operator-color"]];case C().MESSAGE_TYPES.GENESYS.FORM:case C().MESSAGE_TYPES.GENESYS.SYSTEM:case C().MESSAGE_TYPES.GENESYS.PARTICIPANT_JOINED:case C().MESSAGE_TYPES.GENESYS.PARTICIPANT_LEFT:case C().MESSAGE_TYPES.GENESYS.PUSH_URL:case C().MESSAGE_TYPES.GENESYS.NOTICE:case C().MESSAGE_TYPES.GENESYS.IDLEALERT:case C().MESSAGE_TYPES.GENESYS.IDLECLOSE:case C().MESSAGE_TYPES.GENESYS.CLOSE_CHAT:case C().MESSAGE_TYPES.GENESYS.AGENT_LEFT:case C().MESSAGE_TYPES.GENESYS.AGENT_HOLD:case C().MESSAGE_TYPES.GENESYS.READ_RECEIPT:default:return[p["@background-livechat-system-color"],p["@text-livechat-system-color"]]}},d={position:"relative",padding:"10px 16px 10px",marginBottom:"2px",background:m()[0],color:m()[1],borderRadius:22,borderBottomLeftRadius:2},f=(null==n?void 0:n.type)===t.type,g=(null==a?void 0:a.type)===t.type,v=(null==n?void 0:n.isFromPlugin)&&f||!1;(null==a?void 0:a.isFromPlugin)&&g&&(d=Ye(Ye({},d),{},{borderTopLeftRadius:2}));var E=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),b=S().unix(t.createdAt).locale(E).fromNow(),h=new DOMParser;return c?o.createElement("div",{className:"message-content",style:d},"Private data has been sent and will not be saved"):o.createElement(o.Fragment,null,o.createElement("div",{style:{display:"flex"}},!v&&(r||i)&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:o.createElement(Le.Z,null)})),!v&&!r&&!i&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:""!=u?"":o.createElement(de.Z,null),src:""!=u?u:""})),o.createElement("div",{className:"message-content",style:d},function(){if(i)return o.createElement("div",{className:"livechat-operator-typing",style:{width:"100%",margin:"10px 0px 10px"}},o.createElement("div",{className:"livechat-operator-typing-dot"}),o.createElement("div",{className:"livechat-operator-typing-dot"}),o.createElement("div",{className:"livechat-operator-typing-dot"}));var e=h.parseFromString(t.content,"text/html");return re(e.body,0)}()),o.createElement(Ce,{message:t})),!v&&o.createElement("div",{style:{textAlign:"left",fontSize:"0.8em",color:p["@text-snippet-color"]}},b))};function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ke(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==Ke(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ke(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){var t=e.message,n=e.nextMessage,a=e.previousMessage,i=e.onReactionClick,c=t.type===C().MESSAGE_TYPES.LIVECHAT.OPERATOR,s=t.type===C().MESSAGE_TYPES.LIVECHAT.OPERATOR_TYPING,p=t&&t.reaction&&t.reaction.value,u=(0,l.v9)((function(e){return e.settings.themeKit})),m=u&&u.themeVars,d=u&&u.avatar,f=function(){return[m["@background-livechat-operator-color"],m["@text-livechat-operator-color"]]},g={position:"relative",padding:"10px 16px 10px",marginBottom:"2px",background:f()[0],color:f()[1],borderRadius:22,borderBottomLeftRadius:2},v=c&&n&&n.type===t.type,E=c&&a&&a.type===t.type,b=n&&n.isFromPlugin&&v||!1;a&&a.isFromPlugin&&E&&(g=Qe(Qe({},g),{},{borderTopLeftRadius:2}));var h=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),x=S().unix(t.createdAt).locale(h).fromNow();return o.createElement(o.Fragment,null,o.createElement("div",{style:{display:"flex"}},!b&&(c||s)&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:o.createElement(Le.Z,null)})),!b&&!c&&!s&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:""!=d?"":o.createElement(de.Z,null),src:""!=d?d:""})),o.createElement("div",{className:"message-content",style:g},function(){if(console.log("isTyping",t.type,s),s)return o.createElement("div",{className:"livechat-operator-typing",style:{width:"100%",margin:"10px 0px 10px"}},o.createElement("div",{className:"livechat-operator-typing-dot"}),o.createElement("div",{className:"livechat-operator-typing-dot"}),o.createElement("div",{className:"livechat-operator-typing-dot"}));var e=(new DOMParser).parseFromString(t.content,"text/html");return re(e.body,0)}(),o.createElement("div",{className:"message-reaction",style:{bottom:0,right:-52,minWidth:52}},o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"success-color",icon:o.createElement(fe.Z,null),onClick:function(){return i(1,t)}}),o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"error-color",icon:o.createElement(ge.Z,null),onClick:function(){return i(-1,t)}})),(1===p||-1===p)&&o.createElement("div",{className:"message-reaction-result",style:{bottom:0,right:-30}},1===p&&o.createElement(r.default,{type:"link",size:"small",className:"success-color",icon:o.createElement(fe.Z,null)}),-1===p&&o.createElement(r.default,{type:"link",size:"small",className:"error-color",icon:o.createElement(ge.Z,null)}))),o.createElement(Ce,{message:t})),!b&&o.createElement("div",{style:{textAlign:"left",fontSize:"0.8em",color:m["@text-snippet-color"]}},(c||s)&&"Agent - ",x))};function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tt.apply(this,arguments)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==et(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===et(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it=Ze.Z.getInstance(),ot=function(e){var t=e.message,n=e.nextMessage,a=e.previousMessage,c=(0,l.v9)((function(e){return e.settings.themeKit})),s=c&&c.themeVars,p=c&&c.avatar,u=(0,l.I0)(),m=t&&t.reaction&&t.reaction.value,d=function(e,t){t&&t.reaction&&t.reaction.value&&t.reaction.value===e?u((0,T.a9)(it.getConversationId(),{value:0,isArchived:!1},t._id)):u((0,T.a9)(it.getConversationId(),{value:e,isArchived:!1},t._id))},f=n&&n.isFromPlugin||!1,v=a&&a.isFromPlugin||!1,E=(0,l.v9)((function(e){return e.messaging.livechat})),b=E&&E.coBrowsing3&&E.coBrowsing3.requestScreenShare,h=!v||b,x=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),w=S().unix(t.createdAt).locale(x).fromNow();if(t.type===C().MESSAGE_TYPES.FILES){var O={"application/pdf":o.createElement(oe.Z,null),"image/":o.createElement(le.Z,null),"application/msword":o.createElement(ce.Z,null),"officedocument.wordprocessingml.document":o.createElement(ce.Z,null),"application/ms-powerpoint":o.createElement(se.Z,null),"officedocument.presentationml.presentation":o.createElement(se.Z,null),"application/vnd.ms-excel":o.createElement(pe.Z,null),"officedocument.spreadsheetml.sheet":o.createElement(pe.Z,null),"application/zip":o.createElement(ue.Z,null)};return o.createElement("div",{className:h?"firstMessageOfGroup message-bot-wrapper":"message-bot-wrapper"},o.createElement(M.default,{dataSource:t.attachments,renderItem:function(e){var n,a=(n=e.mimeType,O[n]||o.createElement(me.Z,null));return o.createElement(Z.Z,{key:e._id,style:{margin:2,maxWidth:120,border:0,borderRadius:8},bodyStyle:{padding:10,backgroundColor:s["@background-bot-color"],color:s["@text-bot-color"],borderRadius:8}},o.createElement(g.default,{justify:"center"},o.createElement("div",{style:{fontSize:25}},a)),o.createElement(g.default,{justify:"center",style:{width:100}},o.createElement(i.Z.Text,{strong:!0,style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",color:s["@text-bot-color"]}},e.filename)),o.createElement(g.default,null,B(e.size),t.files&&o.createElement(r.default,{type:"primary",style:{color:s["@text-user-color"]},onClick:function(){var e,n,a,r;e=Array.isArray(t.files)?t.files[0]:t.files,n=t.attachments[0].filename,a="".concat(n),void 0!==(r=document.createElement("a")).download&&(r.setAttribute("href","data:application/octet-stream;base64,"+e),r.setAttribute("download",a),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r))}},o.createElement(H,{id:"DOWNLOAD"}))))}}))}if(t.type===C().MESSAGE_TYPES.UPLOAD_BUTTON)return o.createElement(g.default,{justify:"center"},o.createElement("div",{className:"message-user"},o.createElement("div",{className:"content-wrapper"},o.createElement("div",{className:"content",style:{borderRadius:22}},o.createElement(Te,{acceptedFileTypes:t.acceptedFileTypes})))));var A={position:"relative",padding:"10px 16px 10px",marginBottom:"2px",background:s["@background-bot-color"],color:s["@text-bot-color"],borderRadius:22,borderBottomLeftRadius:2};return v&&(A=at(at({},A),{},{borderTopLeftRadius:2})),o.createElement("div",{className:h?"firstMessageOfGroup":"",style:{position:"relative",maxWidth:"300px",marginBottom:"5px",display:"flex",flexDirection:"column",overflowWrap:"anywhere"}},function(){if(t.type.includes("GENESYS."))return o.createElement(We,tt({},e,{onReactionClick:d}));if(t.type.includes("VO."))return o.createElement(Xe,tt({},e,{onReactionClick:d}));if(t.type.includes("LIVECHAT."))return o.createElement(He,tt({},e,{onReactionClick:d}));if(t.type.includes("DIALOG."))return o.createElement(Ne,tt({},e,{onReactionClick:d}));var n=(new DOMParser).parseFromString(t.content,"text/html"),a=re(n.body,0);return o.createElement(o.Fragment,null,o.createElement("div",{style:{display:"flex"}},!f&&o.createElement("div",{style:{marginLeft:"-42px",paddingRight:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:""!=p?"":o.createElement(de.Z,null),src:""!=p?p:""})),o.createElement("div",{className:"message-content",style:A},a,o.createElement("div",{className:"message-reaction",style:{bottom:0,right:-52,minWidth:52}},o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"success-color",icon:o.createElement(fe.Z,null),onClick:function(){return d(1,t)}}),o.createElement(r.default,{type:"link",shape:"circle",size:"small",className:"error-color",icon:o.createElement(ge.Z,null),onClick:function(){return d(-1,t)}})),(1===m||-1===m)&&o.createElement("div",{className:"message-reaction-result",style:{bottom:0,right:-30}},1===m&&o.createElement(r.default,{type:"link",size:"small",className:"success-color",icon:o.createElement(fe.Z,null)}),-1===m&&o.createElement(r.default,{type:"link",size:"small",className:"error-color",icon:o.createElement(ge.Z,null)}))),o.createElement(Ce,{message:t})),!f&&o.createElement("div",{style:{textAlign:"left",fontSize:"0.8em",color:s["@text-snippet-color"]}},w))}())},lt=(n(31822),n(41764)),ct=n(20640),st=n.n(ct),pt=n(62536),ut=n(99165);function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==mt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==mt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(e){var t=e.message,n=e.nextMessage,a=e.previousMessage,r=(0,l.v9)((function(e){return e.settings.themeKit.themeVars}));if(t.type===C().MESSAGE_TYPES.FILES)return o.createElement("div",{className:"message-user-wrapper"},o.createElement(M.default,{dataSource:t.attachments,renderItem:function(e){var t;return t=e.mimeType?e.mimeType.includes("application/pdf")?o.createElement(oe.Z,null):e.mimeType.includes("image/")?o.createElement(le.Z,null):e.mimeType.includes("application/msword")||e.mimeType.includes("officedocument.wordprocessingml.document")?o.createElement(ce.Z,null):e.mimeType.includes("application/ms-powerpoint")||e.mimeType.includes("officedocument.presentationml.presentation")?o.createElement(se.Z,null):e.mimeType.includes("application/vnd.ms-excel")||e.mimeType.includes("officedocument.spreadsheetml.sheet")?o.createElement(pe.Z,null):e.mimeType.includes("application/zip")?o.createElement(ue.Z,null):o.createElement(me.Z,null):o.createElement(me.Z,null),o.createElement(Z.Z,{key:e._id,style:{margin:2,maxWidth:120,border:0,borderRadius:8},bodyStyle:{padding:10,backgroundColor:r["@primary-color"],color:r["@text-user-color"],borderRadius:8}},o.createElement(g.default,{justify:"center"},o.createElement("div",{style:{fontSize:25}},t)),o.createElement(g.default,{justify:"center",style:{width:100}},o.createElement(i.Z.Text,{strong:!0,style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",color:r["@text-user-color"]}},e.filename)),o.createElement(g.default,{justify:"end"},o.createElement(i.Z.Text,{type:"secondary",style:{color:r["@text-user-color"]}},B(e.size))))}}));var c=(new DOMParser).parseFromString(t.content,"text/html"),s=re(c.body,0),p=n&&n.author||!1,u=a&&a.author||!1,m={position:"relative",padding:"10px 16px 10px",marginBottom:"2px",background:r["@primary-color"],color:r["@text-user-color"],width:"100%",borderRadius:22,borderBottomRightRadius:2};u&&(m=gt(gt({},m),{},{borderTopRightRadius:2}));var d,f,v=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.context.masterbot_isBackOffice})),E=(d=(0,o.useState)(!1),f=2,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(d,f)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}(d,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=E[0],h=E[1],x=(0,l.v9)((function(e){return e.connectedAccount.data})),w=x&&x.name===C().VISITOR_ACCOUNT,T=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),O=S().unix(t.createdAt).locale(T).fromNow(),A=t.type===C().MESSAGE_TYPES.FEEDBACK||t.type===C().MESSAGE_TYPES.LIVECHAT.FEEDBACK;return o.createElement("div",{style:{position:"relative",maxWidth:"300px",textAlign:"left",marginBottom:"5px",display:"flex",flexDirection:"column",marginLeft:"auto"}},o.createElement("div",{style:{display:"flex"}},o.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"}},o.createElement(Ce,{message:t}),v&&b&&o.createElement(pt.Z,{twoToneColor:"#52c41a"}),v&&!b&&o.createElement(ut.Z,{onClick:function(){return st()(t.content),h(!0),void setTimeout((function(){return h(!1)}),4e3)},style:{color:r["@text-snippet-color"]}})),o.createElement("div",{style:m},A?o.createElement(lt.Z,{disabled:!0,value:+t.content}):s),!w&&!p&&o.createElement("div",{style:{marginRight:"-42px",paddingLeft:"10px",display:"flex",alignItems:"center"}},o.createElement(y.ZP,{icon:o.createElement(Le.Z,null),src:""}))),o.createElement("div",{style:{textAlign:"right",fontSize:"0.8em",color:r["@text-snippet-color"]}},!p&&O))},Et=function(e){var t=e.message;return t.isFromPlugin?o.createElement(ot,e):t.author?o.createElement(yt,e):o.createElement("div",null,"'Unknown Author of message'")};function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ht.apply(this,arguments)}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==bt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===bt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=n(87907)("Conversation"),Ot=Ze.Z.getInstance(),At=function(){var e=(0,w.Z)(),t=(0,l.I0)(),n=(0,l.v9)((function(e){return e.settings})),a=n.sentFromIntegrationScript.fullScreen,r=n.sentFromIntegrationScript.locale,c=n.sentFromIntegrationScript.originDomain,s=c===n.sentFromIntegrationScript.chatServer,p=n.themeKit.displaySuggestions,f=(0,l.v9)((function(e){return e.messaging.isConversationInitializing})),v=(0,l.v9)((function(e){return e.messaging.messages})),y=v&&Array.isArray(v)&&v.length&&v[v.length-1]&&!v[v.length-1].isFromPlugin,E=(0,l.v9)((function(e){return e.messaging.isSendingMessage})),b=(0,l.v9)((function(e){return e.messaging.suggestions})),x=s||a,A=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),I=(0,l.v9)((function(e){return e.messaging.shouldRequestFile})),k=(0,l.v9)((function(e){return e.messaging.livechat})),_=k&&k.isTalkingToLivechat,j=k&&k.isLivechatOperatorTyping,N=(0,l.v9)((function(e){return e.messaging.livechat&&e.messaging.livechat.coBrowsing3_storedStream})),P=N&&N.storedRTCPeerClient,R=N&&N.storedDisplayMedia,M=k&&k.coBrowsing3,Z=M&&M.requestScreenShare,D=M&&M.coBrowsingHandshake_READY_FOR_OFFER,G=M&&M.coBrowsingHandshake_CANDIDATE_FROM_OPERATOR,F=M&&M.coBrowsingHandshake_ANSWER;(0,o.useEffect)((function(){""!==window.location.search&&history.replaceState(null,"","".concat(window.env.ROOT_PATH||"","/"))}),[]);var B=(0,o.useRef)(null),z=function(e){B.current.scrollTop(e)};if((0,o.useEffect)((function(){if(!f)if((_&&!Z||y)&&B&&B.current)z(B.current.getScrollHeight());else{var e=document.getElementsByClassName("firstMessageOfGroup"),t=e&&e.length&&e[e.length-1];t&&t.getBoundingClientRect().top&&z(t.offsetTop)}}),[v,Z]),f)return o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},o.createElement("div",{className:"typing-loader-wrapper"},o.createElement("div",{className:"typing-loader"})));var V=[];if(I&&v&&Array.isArray(v)&&v[v.length-1].type===C().MESSAGE_TYPES.DIALOG.REQUEST_UPLOAD){var U=new O.v;U.setType(C().MESSAGE_TYPES.UPLOAD_BUTTON),U.setAcceptedFileTypes(v[v.length-1].acceptedFileTypes),U.setIsFromPlugin(!0),V.push(U)}if(_&&v&&Array.isArray(v)){var Y=new O.v;if(j&&(Y.setType(C().MESSAGE_TYPES.LIVECHAT.OPERATOR_TYPING),Y.setIsFromPlugin(!0),V.push(Y)),Z&&(Y.setType(C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.REQUESTING_SCREEN_SHARE),Y.setIsFromPlugin(!0),V.push(Y)),D){if(!P){var q=window.env.STUN_SERVERS&&window.env.STUN_SERVERS.split(",");q&&0!==q.length||(q=["stun:stun.l.google.com:19302"]);var W={iceServers:[]};q.forEach((function(e){var t=e.split("|");W.iceServers=W.iceServers.concat([{urls:t[0],username:t[1],credential:t[2]}])})),"true"===window.env.TURN_USE_OPENRELAY&&(W.iceServers=W.iceServers.concat([{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}]));var K=new RTCPeerConnection(W);K.onicecandidate=function(e){null!==e.candidate&&(Tt.info("Connecting to : ".concat(e.candidate.candidate)),t((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.CO_BROWSING_CANDIDATE_FROM_CLIENT,conversationId:Ot.getConversationId(),type:"candidate",label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate})))},K.addTrack(R.getTracks()[0],R),R.oninactive=function(){t((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.STOP_SHARING,conversationId:Ot.getConversationId()})),K=null};var $=K.createDataChannel("dc");$.onmessage=function(e){var t=JSON.parse(e.data),n=window.location!==window.parent.location?c:document.location.href;window&&window.parent?window.parent.postMessage(St(St({},t),{},{iFrameDomain:window.location.origin}),n):console.error("Snippet is not integrated into an iFrame")},$.onclose=function(){var e=window.location!==window.parent.location?c:document.location.href;window&&window.parent?window.parent.postMessage({event:"Close",iFrameDomain:window.location.origin},e):console.error("Snippet is not integrated into an iFrame"),R.getTracks().forEach((function(e){Tt.info("Stopping track after channel has been abruptly closed",e),e.stop()}))},K.createOffer().then((function(e){K.setLocalDescription(e).then((function(){t((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.CO_BROWSING_OFFER,conversationId:Ot.getConversationId(),type:"offer",sdp:e},{client:K}))}))})).catch((function(e){return console.error("Could not create offer",e)}))}Y.setType(C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.READY_FOR_OFFER),Y.setIsFromPlugin(!0),V.push(Y)}if(G){var Q=new RTCIceCandidate({sdpMLineIndex:M.tmpData.label,candidate:M.tmpData.candidate});P&&P.addIceCandidate(Q).then((function(){k.cobrowsingSyncTimeout&&t((0,T.aP)()),Y.setType(C().MESSAGE_TYPES.LIVECHAT.COBROWSING_3.CANDIDATE_FROM_OPERATOR),Y.setIsFromPlugin(!0),V.push(Y)}))}F&&P&&P.setRemoteDescription(new RTCSessionDescription(M.tmpData.sdp)).then((function(){V=[]}))}var J=v.filter((function(e){return"HIDDEN"!==e.type})),X=o.createElement("div",{style:I?{height:"100%",position:"relative",top:"-11px"}:{}},o.createElement(g.default,{justify:"center",style:I?{marginTop:15}:{}},o.createElement(d.Z,{style:{color:A["@primary-color"],lineHeight:0,borderTopColor:A["@primary-color"]}},S()().locale(r).calendar(null,{sameDay:"["+e.formatMessage({id:"TIME_TODAY"})+"]",lastDay:"["+e.formatMessage({id:"TIME_YESTERDAY"})+"]",lastWeek:"[Last] dddd",sameElse:"DD/MM/YYYY"}))),o.createElement("div",{className:x?"messaging-system fullScreen":"messaging-system",style:{overflowWrap:"break-word"}},J.map((function(e,t){return o.createElement(Et,{key:"message-"+t,message:e,index:t,nextMessage:t+1<J.length?J[t+1]:V&&V.length?V[0]:null,previousMessage:t>0?J[t-1]:null})})),V&&V.map((function(e,t){return o.createElement(Et,{key:"extra-message-"+t,message:e,index:t,nextMessage:t+1<V.length?V[t+1]:null,previousMessage:t>0?V[t-1]:J&&J.length&&J[J.length-1]})}))),E&&!_&&o.createElement("div",{className:"typing-loader-wrapper withBg"},o.createElement("div",{className:"typing-loader"})));return o.createElement(h.$B,{ref:B,renderThumbVertical:function(e){return o.createElement("div",ht({},e,{style:{borderRadius:8,backgroundColor:A["@text-snippet-color"]},className:"thumb-vertical"}))},style:{height:"auto",minHeight:0}},X,"afterText"===p&&b&&b.length>0&&o.createElement(g.default,{style:{height:"auto",minHeight:90,marginBottom:15}},o.createElement(u.default,{span:24,style:{display:"flex",flexDirection:"column",height:"100%"}},o.createElement(g.default,{style:{maxHeight:30},justify:"start",align:"middle",className:x?"messaging-system fullScreen":""},o.createElement(i.Z.Text,{type:"secondary",style:{textTransform:"uppercase",marginLeft:10,marginRight:10,fontSize:"0.8rem",color:A&&A["@text-snippet-color"]}},o.createElement(H,{id:"SUGGESTION_TITLE"})),o.createElement(m.Z,{count:b.length,style:{backgroundColor:A&&A["@primary-color"],color:A&&A["@text-user-color"],borderColor:A&&A["@background-snippet-color"],marginBottom:5}})),o.createElement(g.default,{className:x?"messaging-system fullScreen":""},o.createElement(u.default,{style:{margin:"0 10px"}},b&&b.map((function(e,t){return o.createElement(g.default,{key:"suggestion"+t,justify:"start",align:"middle",style:t<b.length-1?{marginBottom:"14px"}:{}},o.createElement(L,{suggestion:e}))})))))))},Ct=(n(75314),n(11187)),It=n(82272),kt=n(92277),_t=n(59879),jt=n(74962),Nt=n(13439),Pt=n(67985),Rt=(n(89858),n(51024)),Lt=n(29148);function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Mt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==Mt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var zt=function(){var e=(0,l.I0)(),t=Ft((0,o.useState)(""),2),n=t[0],c=t[1],s=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),p=(0,l.v9)((function(e){return e.connectedAccount.data})),m=s.context,d=(0,l.v9)((function(e){return e.messaging.liveContext})),f=(0,l.v9)((function(e){return e.messaging.conversationId})),v=function(){var t=n.replace(/^(?:\s+|\s+)+$/g,"");if(""!=t||(Q||Z)&&J&&J.length){var a=new O.v;a.setContent(t),a.setCreatedAt(S()().unix()),L?a.setType(C().MESSAGE_TYPES.LIVECHAT.USER):a.setType(C().MESSAGE_TYPES.DEFAULT),a.setAuthor(p),a.setIsFromPlugin(!1),a.setConversation(f),a.setLocale(s.locale),a.setContext(Dt(Dt({},m),d)),Z&&J&&J.length&&(a.setType(C().MESSAGE_TYPES.FILES),a.setFiles(J),J.forEach((function(e){a.addToAttachments({filename:e.name,size:e.size,uploadedAt:e.lastModified,mimeType:e.type})}))),e((0,T.J)(a)),z(!1)}c(""),J.length>0&&e((0,T.bH)("all"))},y=(0,l.v9)((function(e){return e.settings.themeKit})),E=y.themeVars,b=Ft((0,o.useState)(y.inputField&&y.inputField[s.locale].text),2),h=b[0],x=b[1],w=y.inputField&&y.inputField.isUsingPersonalisedIcon&&0!==y.inputField.icon.length,A=Ft((0,o.useState)(!1),2),I=A[0],k=A[1],_=Ft((0,o.useState)({}),2),j=_[0],N=_[1];(0,o.useEffect)((function(){var e=I?"-hover":"";N(Dt(Dt({},j),{},{backgroundColor:y.themeVars["@user-input-send-icon".concat(e,"-background-color")],border:"solid 2px "+y.themeVars["@user-input-send-icon".concat(e,"-border-color")],color:y.themeVars["@user-input-send-icon".concat(e,"-color")]}))}),[I]),(0,o.useEffect)((function(){c(""),x(y.inputField&&y.inputField[s.locale].text)}),[s.locale]);var P=510,R=(0,l.v9)((function(e){return e.messaging.liveContext&&e.messaging.liveContext.livechat})),L=R&&R.isTalkingToLivechat,Z=R&&R.livechatAllowUserAttachments,G=Ft((0,o.useState)(!1),2),F=G[0],z=G[1];(0,o.useEffect)((function(){L&&e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.USER_TYPING,conversationId:f,isUserTyping:F}))}),[F]),(0,o.useEffect)((function(){if(L&&F){var e=setTimeout((function(){z(!1)}),5e3);return function(){return clearTimeout(e)}}}));var V=(0,l.v9)((function(e){return e.messaging.idleMode})),U=(0,l.v9)((function(e){return e.messaging.inactivityModalInfo})),Y=U.useScenario,q=U.timeoutValueInSeconds;(0,o.useEffect)((function(){if(Y){var t=setTimeout((function(){V||e((0,T.fP)(!0))}),1e3*q);return function(){return clearTimeout(t)}}}));var W=(0,o.useRef)(null);(0,o.useEffect)((function(){W.current&&""===n&&W.current.focus()}));var K=(0,l.v9)((function(e){return e.messaging.isSendingMessage})),$=(0,l.v9)((function(e){return e.messaging.isConversationFinished})),Q=(0,l.v9)((function(e){return e.messaging.shouldRequestFile})),J=(0,l.v9)((function(e){return e.messaging.files}));return Z&&J&&J.length?o.createElement(g.default,{align:"middle",justify:"center",style:{marginTop:10,display:"flex",justifyContent:"flex-start"}},o.createElement(u.default,{span:21,style:{marginLeft:"5px"}},o.createElement(M.default,{size:"small",dataSource:J,renderItem:function(t){var n,r=t.type;return n=r.includes("application/pdf")?o.createElement(oe.Z,null):r.includes("image/")?o.createElement(le.Z,null):r.includes("application/msword")||r.includes("officedocument.wordprocessingml.document")?o.createElement(ce.Z,null):r.includes("application/ms-powerpoint")||r.includes("officedocument.presentationml.presentation")?o.createElement(se.Z,null):r.includes("application/vnd.ms-excel")||r.includes("officedocument.spreadsheetml.sheet")?o.createElement(pe.Z,null):r.includes("application/zip")?o.createElement(ue.Z,null):o.createElement(me.Z,null),o.createElement(M.default.Item,{key:t.uid,style:{backgroundColor:E["@user-input-textfield-background-color"],color:E["@user-input-textfield-text-color"],borderRadius:10,margin:5}},o.createElement(g.default,{style:{width:"100%",alignItems:"center"}},o.createElement("div",{style:{fontSize:25}},n),o.createElement(i.Z.Text,{strong:!0,style:{marginLeft:3,color:E["@user-input-textfield-text-color"]}},t.name),o.createElement("div",{style:{marginLeft:"auto"}},B(t.size),o.createElement(a.default,{title:"delete"},o.createElement(ye.Z,{style:{fontSize:16},onClick:function(){return e((0,T.bH)(t.name))}})))))}})),o.createElement(u.default,{span:2,style:{textAlign:"center"}},o.createElement(r.default,{style:j,shape:y.themeVars["@user-input-send-icon-shape"]?y.themeVars["@user-input-send-icon-shape"]:"circle",htmlType:"submit",disabled:J&&0===J.length,icon:w?o.createElement(D.Z,{preview:!1,src:y.inputField.icon,style:j,onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)}}):o.createElement(Lt.Z,null),onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},onClick:function(){v()}}))):$?o.createElement("div",null):o.createElement(g.default,{align:"middle",justify:"center",style:{marginTop:10}},o.createElement(u.default,{span:19,style:{marginLeft:"5px"}},o.createElement(a.default,{placement:"topLeft",title:o.createElement(H,{id:"CHAT_MESSAGE_INPUT_PLACEHOLDER"})},o.createElement(Rt.Z.TextArea,{ref:W,disabled:K||Q,value:n,placeholder:h,autoSize:{maxRows:4},allowClear:!0,className:"messaging-textarea",maxLength:L?null:P,onChange:function(e){var t=e.target.value;t.length<=P||L?c(t):c(t.substring(0,P)),t.length&&!F?z(!0):!t.length&&F&&z(!1)},onPressEnter:function(e){e.preventDefault(),v()}}))),o.createElement(u.default,{span:1},!L&&o.createElement(i.Z.Text,{type:P-n.length<20?"danger":"secondary",style:{fontSize:"0.8em",textAlign:"right"}},P-n.length)),o.createElement(u.default,{span:3,style:{textAlign:"center"}},o.createElement(a.default,{placement:"top",title:o.createElement(H,{id:"SUBMIT_TOOLTIP"})},o.createElement(r.default,{htmlType:"submit",disabled:""===n,style:""!==n?Dt(Dt({},j),{},{backgroundImage:y.inputField&&y.inputField.isUsingPersonalisedIcon?"url(".concat(y.inputField.icon,")"):"",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}):{backgroundImage:y.inputField&&y.inputField.isUsingPersonalisedIcon?"url(".concat(y.inputField.icon,")"):"",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"},size:"large",shape:y.themeVars["@user-input-send-icon-shape"]?y.themeVars["@user-input-send-icon-shape"]:"circle",icon:y.inputField&&y.inputField.isUsingPersonalisedIcon?o.createElement("span",null):o.createElement(Lt.Z,null),onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},onClick:function(){v()}}))))},Ht=(n(6373),n(82891)),Vt=(n(54214),n(12386)),Ut=n(57254),Yt=Ze.Z.getInstance(),qt=function(){var e=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),t=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.availableLanguages})),n=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),r=(0,l.v9)((function(e){return e.messaging.livechat})),i=r&&r.coBrowsing3_storedStream&&r.coBrowsing3_storedStream.storedDisplayMedia,c=(0,l.I0)(),p=e.split("-"),u=(0,l.v9)((function(e){return e.connectedAccount&&e.connectedAccount.data&&e.connectedAccount.data._id}))||"",m=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.context})),d=o.createElement(Vt.Z,{key:"documentLanguageMenu"},t.map((function(e){var t=e.split("-");return o.createElement(Vt.Z.Item,{key:"document+".concat(e),onClick:function(){return t=e,n=Yt.getConversationId(),i&&(i.oninactive=null,i.getTracks().forEach((function(e){e.stop()})),c((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:Yt.getConversationId(),eventName:"STOP_SHARING"}))),"true"===Yt.getConnectedToLivechatStatus()&&("true"===Yt.getCoBrowsingStatus()&&(Yt.removeCoBrowsingStatus(),c((0,s.Tt)({stopCobrowse:!0}))),Yt.removeConnectedToLivechatStatus(),c((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:n}))),Yt.removeConversationId(),c((0,s.ZW)(t)),void c((0,T.Yh)(t,u,m));var t,n}},o.createElement(H,{id:"LANGUAGE_"+t[0].toUpperCase()}))})));return t&&Array.isArray(t)&&t.length<=1?null:o.createElement(Ht.Z,{overlay:d,key:"SnippetLanguageSelector",placement:"topCenter"},o.createElement(a.default,{title:o.createElement(H,{id:"LANGUAGE_SELECTOR_APP"}),placement:"right"},o.createElement("a",{style:{color:n["@user-input-area-text-color"]}},o.createElement(H,{id:"LANGUAGE_"+p[0].toUpperCase()}),o.createElement(Ut.Z,null))))};function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==Wt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Wt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Xt=Ze.Z.getInstance(),en=function(e){var t,n,c=(0,l.I0)(),p=(0,w.Z)(),m=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),d=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),f=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),v=(0,l.v9)((function(e){return e.connectedAccount.data})),y=(0,l.v9)((function(e){return e.messaging.conversationId})),E=f.context,b=(0,l.v9)((function(e){return e.messaging.liveContext})),h=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),x=h[0],S=h[1],A=(0,l.v9)((function(e){return e.settings.currentState.enableTTS})),C=(0,l.v9)((function(e){return e.settings.currentState.enableAutomaticTTS})),I=(0,l.v9)((function(e){return e.messaging.livechat})),k=I&&I.connection&&"CATEGORY_LIST"===I.connection.step&&I.connection.message.suggestions&&Array.isArray(I.connection.message.suggestions)&&I.connection.message.suggestions.length,_=I&&I.connection&&"FIRST_CONNECT_MSG"===I.connection.step;(0,o.useEffect)((function(){S(C||!1)}),[f.locale,Xt.getConversationId(),C]);var j=new(window.SpeechRecognition||window.webkitSpeechRecognition);j.lang=d,j.continuous=!0,j.interimResults=!0;var N=function(){j.stop()};j.onstart=function(){console.log("STT Started")},j.onend=function(){console.log("STT Stopped")},j.onerror=function(t){if("no-speech"===t.error)j.stop(),e.setSTTButtonActive(!1);else switch(console.warn("Error occurred in recognition: "+t.error),t.error){case"aborted":document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_ABORTED"});break;case"audio-capture":document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_CAPTURE"});break;case"network":document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_NETWORK"});break;case"not-allowed":document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_NOT_ALLOWED"});break;case"service-not-allowed":document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_SERVICE_NOT_ALLOWED"});break;case"bad-grammar":document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_GRAMMAR"});break;case"language-not-supported":document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_NOT_SUPPORTED_LANGUAGE"});break;default:document.querySelector("#output").textContent=p.formatMessage({id:"STT_ERROR_DEFAULT"})}};var P="";return j.onresult=function(e){for(var t="",n=e.resultIndex;n<e.results.length;++n)e.results[n].isFinal?(P+=e.results[n][0].transcript,k&&(P=P.replace(/[!\"#\＄%&\'\(\)\*\+,-\./:;<=>\?@\[\\\]\^_`{\|}~]/g,"")),setTimeout((function(){var e=new O.v({conversation:y,content:P.trim(),tts:!0,isFromPlugin:!1,author:v,context:$t($t({},E),b)});delete e._id,c((0,T.J)(e)),P="",document.querySelector("#final").innerHTML=P}),1e3)):t+=e.results[n][0].transcript;document.querySelector("#final").innerHTML=P,document.querySelector("#interim").innerHTML=t},(0,o.useEffect)((function(){return e.STTButtonActive&&!_?j.start():N(),function(){N()}}),[e.STTButtonActive,_]),o.createElement(g.default,{align:"middle",justify:"center",gutter:[4,0],style:{width:"100%",minHeight:150}},o.createElement(u.default,{span:24},o.createElement(g.default,{style:{padding:10},align:"middle"},o.createElement(i.Z.Title,{level:5,style:{margin:0}},o.createElement(H,{id:"STT_YOUR_MESSAGE"}))),o.createElement(g.default,{style:{paddingLeft:10,paddingRight:10},align:"middle",justify:"center"},o.createElement(Z.Z,{style:{width:"100%",borderRadius:10}},o.createElement(i.Z.Text,{id:"final"}),o.createElement(i.Z.Text,{id:"interim",type:"secondary"},o.createElement(H,{id:"STT_PLACEHOLDER"})))),o.createElement(g.default,null,o.createElement(i.Z.Text,{id:"output"})),o.createElement(g.default,{style:{padding:10},align:"middle"},o.createElement("div",{style:{flex:1}},o.createElement(qt,null)),"speechSynthesis"in window&&A?o.createElement("div",{style:{flex:1}},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(a.default,{title:x?p.formatMessage({id:"CHAT_MESSAGE_STOP_VOICE_SYNTHESIS"}):p.formatMessage({id:"CHAT_MESSAGE_ACTIVATE_VOICE_SYNTHESIS"})},o.createElement(r.default,{type:"link",onClick:function(){S(!x),c((0,s.rq)(!x))}},x?o.createElement(Nt.Z,{style:{fontSize:"20px",color:m["@user-input-area-text-color"]}}):o.createElement(Pt.Z,{style:{fontSize:"20px",color:m["@user-input-area-text-color"]}}),":")))):o.createElement("div",{style:{flex:1}}),o.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement(a.default,{title:o.createElement(H,{id:"STT_STOP_BTN_TOOLTIP"})},o.createElement(r.default,{size:"large",shape:"circle",className:"stt-btn",style:{height:50,width:50,display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){N(),e.setSTTButtonActive(!1)}},o.createElement("div",{className:"stt-btn-inner"})))),o.createElement("div",{style:{flex:1}}),o.createElement("div",{style:{flex:1}}))))};function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tn.apply(this,arguments)}function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var rn=Ze.Z.getInstance(),on=function(){var e=(0,w.Z)(),t=(0,l.I0)(),n=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),c=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),m=c.fullScreen,d=c.originDomain===c.chatServer||m,v=(0,l.v9)((function(e){return e.messaging.liveContext&&e.messaging.liveContext.livechat})),y=v&&v.connection&&v.connection.isConnecting,E=v&&v.isTalkingToLivechat,h=v&&v.livechatAllowUserAttachments,x=v&&v.isAskingForFeedback,S=v&&v.coBrowsing3_storedStream&&v.coBrowsing3_storedStream.storedDisplayMedia,O=window.SpeechRecognition||window.webkitSpeechRecognition,A=O&&"function"==typeof O,C=nn((0,o.useState)(!1),2),I=C[0],k=C[1],_=(0,l.v9)((function(e){return e.messaging.enableSTT})),j=A&&_;(0,o.useEffect)((function(){I&&k(!1)}),[c.locale,rn.getConversationId()]);var N=nn((0,o.useState)(!1),2),P=N[0],R=N[1],L=(0,l.v9)((function(e){return e.settings.currentState.enableTTS})),M=(0,l.v9)((function(e){return e.settings.currentState.enableAutomaticTTS}));(0,o.useEffect)((function(){R(M||!1)}),[c.locale,rn.getConversationId(),M]);var Z={padding:0,borderTop:"",backgroundColor:n["@primary-color"]};d||b.tq||(Z=tn({},Z,{borderBottomLeftRadius:"25px",borderBottomRightRadius:"25px"}));var D=(0,l.v9)((function(e){return e.messaging.isConversationFinished})),G=(0,l.v9)((function(e){return e.connectedAccount.data})),F=c.context;return y?o.createElement(p.Z.Footer,{style:Z,className:"snippet-footer"},I&&o.createElement(en,{setSTTButtonActive:k,STTButtonActive:I}),o.createElement(g.default,{align:"middle",justify:"start",gutter:[4,0],style:{minHeight:35}},!I&&o.createElement(u.default,{style:{marginLeft:"15px",marginRight:"25px"}},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(qt,null))),j&&!I&&o.createElement(u.default,{span:3},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(a.default,{title:I?e.formatMessage({id:"CHAT_MESSAGE_STOP_DICTATE"}):e.formatMessage({id:"CHAT_MESSAGE_ACTIVATE_DICTATE"})},o.createElement(r.default,{type:"link",onClick:function(){return k(!I)}},o.createElement(It.Z,{style:{fontSize:"18px",color:n["@user-input-area-text-color"]}}))))),o.createElement(a.default,{title:e.formatMessage({id:"END_LIVECHAT_SESSION_TOOLTIP"})},o.createElement(r.default,{type:"link",icon:o.createElement(kt.Z,{style:{fontSize:"20px",color:n["@user-input-area-text-color"]}}),style:{position:"absolute",width:"200px",textAlign:"center",right:0,left:0,marginLeft:"auto",marginRight:"auto"},onClick:function(){S&&(S.oninactive=null,S.getTracks().forEach((function(e){e.stop()})),t((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:rn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===rn.getConnectedToLivechatStatus()&&(rn.removeConnectedToLivechatStatus(),t((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:rn.getConversationId(),manualEnding:!0})),"true"===rn.getCoBrowsingStatus()&&(rn.removeCoBrowsingStatus(),t((0,s.Tt)({stopCobrowse:!0}))))}},o.createElement(i.Z.Text,{style:{color:n["@user-input-area-text-color"]}},o.createElement(H,{id:"END_LIVECHAT_SESSION_BUTTON"})))))):D?o.createElement(p.Z.Footer,{style:Z,className:"snippet-footer"},o.createElement(g.default,{align:"middle",justify:"center",gutter:[4,0],style:{width:"100%",minHeight:70}},o.createElement(r.default,{type:"primary",size:"large",style:{color:n["@user-input-area-text-color"]},onClick:function(){rn.removeConversationId(),t((0,T.Yh)(c.locale,G&&G._id||"",F))}},o.createElement(f.default,null,o.createElement(_t.Z,null),o.createElement(H,{id:"RELOAD_TOOLTIP"}))))):I?o.createElement(p.Z.Footer,{style:Z,className:"snippet-footer"},o.createElement(en,{setSTTButtonActive:k,STTButtonActive:I})):o.createElement(p.Z.Footer,{style:Z,className:"snippet-footer"},o.createElement("div",{style:{display:"flex",flexDirection:"column"}},o.createElement("div",null,o.createElement(zt,null))),o.createElement(g.default,{align:"middle",justify:"start",gutter:[4,0],style:{minHeight:35}},o.createElement(u.default,{style:{marginLeft:"15px",marginRight:"25px"}},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(qt,null))),j&&o.createElement(u.default,{span:3},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(a.default,{title:I?e.formatMessage({id:"CHAT_MESSAGE_STOP_DICTATE"}):e.formatMessage({id:"CHAT_MESSAGE_ACTIVATE_DICTATE"})},o.createElement(r.default,{type:"link",onClick:function(){return k(!I)}},o.createElement(It.Z,{style:{fontSize:"18px",color:n["@user-input-area-text-color"]}}))))),"speechSynthesis"in window&&L&&o.createElement(u.default,{span:3},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(a.default,{title:P?e.formatMessage({id:"CHAT_MESSAGE_STOP_VOICE_SYNTHESIS"}):e.formatMessage({id:"CHAT_MESSAGE_ACTIVATE_VOICE_SYNTHESIS"})},o.createElement(r.default,{type:"link",onClick:function(){R(!P),t((0,s.rq)(!P))}},P?o.createElement(Nt.Z,{style:{fontSize:"20px",color:n["@user-input-area-text-color"]}}):o.createElement(Pt.Z,{style:{fontSize:"20px",color:n["@user-input-area-text-color"]}}),":")))),E&&h&&o.createElement(u.default,{span:3},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(a.default,{title:e.formatMessage({id:"UPLOAD_FILE"})},o.createElement(ve.Z,{beforeUpload:function(n){return n.size<5e7?t((0,T.cT)(n)):Ct.default.error(e.formatMessage({id:"UPLOAD_FILE_MAX_SIZE_ERROR"})),!1},showUploadList:!1},o.createElement(r.default,{type:"link"},o.createElement(jt.Z,{style:{fontSize:"18px",color:n["@user-input-area-text-color"]}})))))),o.createElement(u.default,{span:3},o.createElement(g.default,{justify:"center",align:"middle"},E&&!x&&o.createElement(u.default,{span:6},o.createElement(g.default,{align:"middle",justify:"center"},o.createElement(a.default,{title:e.formatMessage({id:"END_LIVECHAT_SESSION_TOOLTIP"})},o.createElement(r.default,{type:"link",onClick:function(){S&&(S.oninactive=null,S.getTracks().forEach((function(e){e.stop()})),t((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:rn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===rn.getConnectedToLivechatStatus()&&(rn.removeConnectedToLivechatStatus(),t((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:rn.getConversationId(),manualEnding:!0})),"true"===rn.getCoBrowsingStatus()&&(rn.removeCoBrowsingStatus(),t((0,s.Tt)({stopCobrowse:!0}))))}},o.createElement(kt.Z,{style:{fontSize:"18px",color:n["@user-input-area-text-color"]}})))))))))},ln=n(1058),cn=n(72285),sn=n(44053),pn=(n(92015),n(4863));const un=function(){var e=(0,l.v9)((function(e){return e.errors})),t="MESSAGE_ERROR_";return e.name&&"number"==typeof e.name?t=t+"HTTP_"+e.name:e.name&&"string"==typeof e.name&&e.name.includes("SUCCESS")?t="MESSAGE_"+e.name:t+=e.name.replace(/\s/g,"").toUpperCase(),e.message||e.name?o.createElement(pn.default,{type:"info",message:o.createElement(H,{id:t,valuesGiven:{message:e.message}}),banner:!0,closable:!0,style:{width:"100%"}}):o.createElement("div",null)};function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const fn=function(){var e=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),t=(0,l.v9)((function(e){return e.notification})),n=mn((0,o.useState)(t[e].content),2),a=n[0],r=n[1],i=mn((0,o.useState)(t[e].activated),2),c=i[0],s=i[1];return(0,o.useEffect)((function(){r(t[e].content),s(t[e].activated)}),[t]),c?o.createElement(pn.default,{type:"info",message:a,banner:!0,style:{width:"100%"}}):o.createElement("div",null)};var gn=n(64369);function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vn.apply(this,arguments)}var yn=Ze.Z.getInstance(),En=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.connectedAccount.data})),n=t&&t.name===C().VISITOR_ACCOUNT,c=window.top!==window.self&&"true"===window.env.OPENID_AUTO_LOGIN&&"openid"===yn.getTokenType(),u=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),m=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),d=m.fullScreen,f=m.context,v=m.originDomain===m.chatServer,E=v||d,h=(0,l.v9)((function(e){return e.settings.themeKit.name})),x=(0,l.v9)((function(e){return e.settings.themeKit.avatar})),S=(0,l.v9)((function(e){return e.messaging.livechat})),w=S&&S.coBrowsing3_storedStream&&S.coBrowsing3_storedStream.storedDisplayMedia,O=o.createElement(Vt.Z,null,o.createElement(Vt.Z.Item,{key:"Profile",disabled:!0},o.createElement(H,{id:"MENU_PROFILE"})),o.createElement(Vt.Z.Item,{key:"logout",disabled:c,onClick:function(){w&&(w.oninactive=null,w.getTracks().forEach((function(e){e.stop()})),e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:yn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===yn.getConnectedToLivechatStatus()&&("true"===yn.getCoBrowsingStatus()&&(yn.removeCoBrowsingStatus(),e((0,s.Tt)({stopCobrowse:!0}))),yn.removeConnectedToLivechatStatus(),e((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:yn.getConversationId()}))),yn.removeConversationId(),e((0,gn.kS)(t.credentials.username))}},o.createElement(H,{id:n?"MENU_LOGIN":"MENU_LOGOUT"}))),A={padding:0,lineHeight:"28px",height:"auto"};return E||b.tq||(A=vn({},A,{borderTopLeftRadius:"25px"})),o.createElement(p.Z.Header,{className:"snippet-header",style:A},o.createElement(g.default,{style:{height:50}},o.createElement("div",{style:{height:"100%"}},o.createElement(g.default,{align:"middle",style:{height:"100%",marginLeft:20}},"none"!==window.env.AUTH_TYPE&&t&&t._id?o.createElement(Ht.Z,{overlay:O},o.createElement("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}},o.createElement(y.ZP,{icon:""!=x?"":o.createElement(de.Z,null),src:""!=x?x:""}))):o.createElement(y.ZP,{icon:""!=x?"":o.createElement(de.Z,null),src:""!=x?x:""}),o.createElement(i.Z.Text,{style:{marginLeft:5,color:u["@text-snippet-color"]}},h))),o.createElement("div",{style:{marginLeft:"auto"}},v?o.createElement(g.default,{align:"top",justify:"end"},o.createElement(r.default,{type:"primary",style:{color:u["@text-user-color"]},onClick:function(){w&&(w.oninactive=null,w.getTracks().forEach((function(e){e.stop()})),e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:yn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===yn.getConnectedToLivechatStatus()&&(yn.removeConnectedToLivechatStatus(),e((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:yn.getConversationId()})),"true"===yn.getCoBrowsingStatus()&&(yn.removeCoBrowsingStatus(),e((0,s.Tt)({stopCobrowse:!0})))),yn.removeConversationId(),e((0,T.Yh)(m.locale,t&&t._id||"",f))}},o.createElement(H,{id:"RELOAD_TOOLTIP"}))):o.createElement(g.default,{align:"top",justify:"end"},o.createElement(a.default,{placement:"left",title:o.createElement(H,{id:"RELOAD_TOOLTIP"})},o.createElement(r.default,{type:"link",icon:o.createElement(_t.Z,null),hidden:!(t&&t._id),onClick:function(){w&&(w.oninactive=null,w.getTracks().forEach((function(e){e.stop()})),e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:yn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===yn.getConnectedToLivechatStatus()&&("true"===yn.getCoBrowsingStatus()&&(yn.removeCoBrowsingStatus(),e((0,s.Tt)({stopCobrowse:!0}))),yn.removeConnectedToLivechatStatus(),e((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:yn.getConversationId()}))),yn.removeConversationId(),e((0,T.Yh)(m.locale,t&&t._id||"",f))}})),o.createElement(a.default,{placement:"bottomRight",title:o.createElement(H,{id:"MINUS_TOOLTIP"})},o.createElement(r.default,{type:"link",icon:o.createElement(ln.Z,null),onClick:function(){E&&e((0,s.q_)(m.originDomain)),e((0,s.AN)(m.originDomain))}})),o.createElement(a.default,{placement:"bottomRight",title:o.createElement(H,{id:d?"FULLSCREEN_BACK_SNIPPET_TOOLTIP":"FULLSCREEN_TOOLTIP"})},o.createElement(r.default,{type:"link",icon:d?o.createElement(cn.Z,{rotate:90}):o.createElement(sn.Z,null),onClick:function(){return e((0,s.q_)(m.originDomain))}})),o.createElement(a.default,{placement:"bottomRight",title:o.createElement(H,{id:"CLOSE_TOOLTIP"})},o.createElement(r.default,{type:"primary",icon:o.createElement(ye.Z,null),style:{borderRadius:"0",color:u["@text-user-color"]},onClick:function(){w&&(w.oninactive=null,w.getTracks().forEach((function(e){e.stop()})),e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:yn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===yn.getConnectedToLivechatStatus()&&(yn.removeConnectedToLivechatStatus(),e((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:yn.getConversationId()})),"true"===yn.getCoBrowsingStatus()&&(yn.removeCoBrowsingStatus(),e((0,s.Tt)({stopCobrowse:!0})))),yn.removeConversationId(),e((0,s.AN)(m.originDomain))}}))))),o.createElement(g.default,null,o.createElement(fn,null),o.createElement(un,null)))},bn=(n(15267),n(64713)),hn=n(3533),xn=n(9321);function Sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Tn=Ze.Z.getInstance(),On=Rt.Z.TextArea,An=function(){var e=(0,w.Z)(),t=(0,l.I0)(),n=(0,l.v9)((function(e){return e.messaging.feedbackSent})),a=(0,l.v9)((function(e){return e.messaging.LCfeedbackSent})),c=Sn((0,o.useState)(0),2),s=c[0],p=c[1],m=Sn((0,o.useState)(""),2),f=m[0],v=m[1],y=Sn((0,o.useState)(!1),2),E=y[0],b=y[1],h=Sn((0,o.useState)(!1),2),x=h[0],S=h[1],O=Sn((0,o.useState)(!1),2),A=O[0],I=O[1],k=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),_=(0,l.v9)((function(e){return e.messaging.liveContext})),j=(0,l.v9)((function(e){return e.messaging.feedbackScenarioInfo})),N=(0,l.v9)((function(e){return e.messaging.messages})),P=N[N.length-1];(0,o.useEffect)((function(){S(n||!1),I(a||!1)}),[n,a]);var R=(0,xn.generate)(k["@primary-color"]),L=(0,xn.generate)(k["@background-snippet-color"]),M=P&&P.type===C().MESSAGE_TYPES.LIVECHAT.FEEDBACK,Z=j.ratingMessage,D=j.ratingType||"star",G=Sn((0,o.useState)(0),2),F=G[0],B=G[1],z={star:o.createElement("div",null,o.createElement(lt.Z,{value:s,onChange:function(e){p(e),B(F+1)},style:{color:L[5]}})),number:o.createElement(bn.ZP.Group,{onChange:function(e){p(e.target.value),B(F+1)},value:s,buttonStyle:"solid",style:{marginTop:"10px",borderRadius:10,backgroundColor:L[5]}},o.createElement(bn.ZP.Button,{value:1,style:{borderTopLeftRadius:10,borderBottomLeftRadius:10,backgroundColor:"transparent",color:1===s?R[5]:k["@text-snippet-color"]}},"1"),o.createElement(bn.ZP.Button,{value:2,style:{backgroundColor:"transparent",color:2===s?R[5]:k["@text-snippet-color"]}},"2"),o.createElement(bn.ZP.Button,{value:3,style:{backgroundColor:"transparent",color:3===s?R[5]:k["@text-snippet-color"]}},"3"),o.createElement(bn.ZP.Button,{value:4,style:{backgroundColor:"transparent",color:4===s?R[5]:k["@text-snippet-color"]}},"4"),o.createElement(bn.ZP.Button,{value:5,style:{borderTopRightRadius:10,borderBottomRightRadius:10,backgroundColor:"transparent",color:5===s?void 0:k["@text-snippet-color"]}},"5"))};return x&&!M||A&&M?o.createElement(u.default,{style:{backgroundColor:R[5],padding:20}},o.createElement(g.default,{justify:"center",style:{color:k["@user-input-area-text-color"]}},o.createElement(pt.Z,{twoToneColor:"#52c41a"})," ",e.formatMessage({id:"FEEDBACK_COMPONENT_SENT_MESSAGE"}))):M&&!_.livechat?o.createElement(u.default,{style:{backgroundColor:R[5],padding:20}},o.createElement(g.default,{justify:"center",style:{color:k["@user-input-area-text-color"]}},o.createElement(hn.Z,{twoToneColor:"#C52643"})," ",e.formatMessage({id:"FEEDBACK_COMPONENT_NOT_SENT_MESSAGE"}))):0===F?o.createElement(u.default,{style:{backgroundColor:R[5],padding:20}},o.createElement(g.default,{justify:"center",style:{color:k["@user-input-area-text-color"]}},M?P.content:Z),o.createElement(g.default,{justify:"center"},z[D]),o.createElement(g.default,null,E&&!s&&o.createElement(i.Z.Text,{type:"danger",style:{fontSize:"0.8em"}},e.formatMessage({id:"FEEDBACK_COMPONENT_0_STAR_NOT_ALLOWED"})))):o.createElement(u.default,{style:{backgroundColor:R[5],padding:"0 20px"}},o.createElement(g.default,null,o.createElement(d.Z,{style:{borderColor:L[5],margin:"10px 0"}},z[D])),o.createElement(g.default,null,o.createElement(On,{style:{margin:"auto",resize:"none"},rows:3,value:f,placeholder:e.formatMessage({id:"FEEDBACK_COMPONENT_COMMENT_PLACEHOLDER"}),onChange:function(e){v(e.target.value)}})),o.createElement(g.default,{justify:"end",style:{marginTop:5}},o.createElement(r.default,{type:"primary",onClick:function(){!function(e,n){0===e?(b(!0),B(F-1)):(M?I(!0):S(!0),t((0,T.fA)({conversationId:Tn.getConversationId(),comment:n,rate:e})))}(s,f)},size:"small",style:{fontSize:"0.8em",border:"5px",backgroundColor:L[5],color:R[5]}},e.formatMessage({id:"FEEDBACK_COMPONENT_SUBMIT_BUTTON"}))))},Cn=(n(29809),n(97538)),In=n(98244),kn=n(36928);function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t=function(e){var t=function(e,t){if("object"!==_n(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==_n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_n(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(){return Rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Rn.apply(this,arguments)}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Zn=function(){var e=(0,l.v9)((function(e){return e.messaging.livechat.connection})),t=(0,l.v9)((function(e){return e.messaging.livechat})),n=(0,l.v9)((function(e){return e.settings.themeKit.themeVars}))["@primary-color"],a=(0,xn.generate)(n);return o.createElement("div",{style:{position:"relative",height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},o.createElement("div",{style:{flex:"0 1 auto",width:"100%",height:"auto",overflow:"hidden",paddingTop:"10px",paddingBottom:"20px"}},o.createElement(g.default,{justify:"center",align:"middle"},o.createElement(u.default,{span:6,style:{}},o.createElement(g.default,{wrap:!1,justify:"center",align:"middle"},o.createElement(y.ZP,{size:64,icon:o.createElement(Le.Z,null),src:""}))),o.createElement(u.default,{span:6,style:{}},o.createElement(g.default,{wrap:!1,justify:"center",align:"middle"},o.createElement("div",{className:"livechat-connection-arrows",style:{width:"auto",height:"auto"}},o.createElement(In.Z,{style:{fontSize:"30px"}})),o.createElement("div",{className:"livechat-connection-arrows",style:{width:"auto",height:"auto"}},o.createElement(In.Z,{style:{fontSize:"30px"}})),o.createElement("div",{className:"livechat-connection-arrows",style:{width:"auto",height:"auto"}},o.createElement(In.Z,{style:{fontSize:"30px"}})))),o.createElement(u.default,{span:6,style:{}},o.createElement(g.default,{wrap:!1,justify:"center",align:"middle"},o.createElement(y.ZP,{size:64,icon:o.createElement(kn.Z,null),src:""}))))),o.createElement(Dn,{connectionInfo:e}),(null==t?void 0:t.flashMessage)&&o.createElement("div",{style:{flex:"0 1 auto",width:"100%",height:"auto",overflow:"hidden",padding:"20px",backgroundColor:a[0],boxShadow:"0px -5px 10px #CECECE"}},o.createElement("div",{className:"defile"},t.flashMessage)))},Dn=function(e){var t,n,a=e.connectionInfo,c=(0,l.v9)((function(e){return e.settings.themeKit})),s=c&&c.themeVars,p=Ln(Cn.Z.useForm(),1)[0],d=Ln((0,o.useState)(0),2),f=d[0],v=d[1],y=Ln((0,o.useState)([]),2),E=y[0],b=y[1];switch(a.type){case C().CATALOG.SOLUTION.LIVECHAT:return o.createElement("div",{style:{flex:"1 1 auto",width:"100%",height:"100%"}},o.createElement(h.$B,{autoHide:!0},o.createElement(g.default,{justify:"center",align:"middle",style:{height:"100%"}},o.createElement("div",{style:{width:"auto",maxWidth:"600px",marginLeft:"25px",marginRight:"25px",textAlign:"center"}},a.content),a&&a.suggestions&&o.createElement(g.default,{style:{width:"100%",height:"auto",minHeight:90}},o.createElement(u.default,{span:24,style:{display:"flex",flexDirection:"column",height:"100%"}},o.createElement(g.default,{style:{maxHeight:30},justify:"start",align:"middle"},o.createElement(i.Z.Text,{type:"secondary",style:{textTransform:"uppercase",marginLeft:10,marginRight:10,fontSize:"0.8rem",color:s["@text-snippet-color"]}},o.createElement(H,{id:"CATEGORIES_TITLE"})),o.createElement(m.Z,{count:a.suggestions.length,style:{backgroundColor:s["@primary-color"],color:s["@text-user-color"],borderColor:s["@background-snippet-color"],marginBottom:5}})),o.createElement(h.$B,{hideTracksWhenNotNeeded:!0,renderThumbVertical:function(e){return o.createElement("div",Rn({},e,{style:{borderRadius:8,backgroundColor:s["@text-snippet-color"]},className:"thumb-vertical"}))},style:{flexBasis:Math.max(35*a.suggestions.length+40,90).toString()+"px",minHeight:0,height:"auto",marginBottom:10}},o.createElement(g.default,null,o.createElement(u.default,{style:{margin:"0 10px"}},null==a||null===(t=a.suggestions)||void 0===t?void 0:t.map((function(e,t){return o.createElement(g.default,{key:"suggestion"+t,justify:"start",align:"middle",style:t<a.suggestions.length-1?{marginBottom:"14px"}:{}},o.createElement(L,{suggestion:e}))}))))))))));case C().CATALOG.SOLUTION.VO:return o.createElement("div",{style:{flex:"1 1 auto",width:"100%",height:"20%"}},o.createElement(h.$B,{autoHide:!0},o.createElement(g.default,{justify:"center",align:"top",style:{height:"100%"}},o.createElement("div",{style:{width:"auto",maxWidth:"600px",marginLeft:"25px",marginRight:"25px"}},a.content))));case C().CATALOG.SOLUTION.GENESYS:var x=[];return a.content&&a.content.length>0&&x.push(o.createElement(Cn.Z,{name:"genesysForm",layout:"vertical",form:p,onFinish:function(e){b(e),v(f+1)}},a.content.map((function(e){return"text"===e.type?o.createElement(i.Z,{key:"input-genesys-form-message",style:{color:s["@text-user-color"],fontSize:s["@font-size-base"]}},e.message):o.createElement(Cn.Z.Item,{key:"input-genesys-form-".concat(e.genesysField,"-"),name:e.genesysField,label:o.createElement(i.Z,{style:{color:s["@text-user-color"],fontSize:s["@font-size-base"]}},e.label),initialValue:e.value,rules:[{required:!0,message:o.createElement(H,{id:"FIELD_REQUIRED",valuesGiven:{missing:e.label}})}]},o.createElement(Rt.Z,null))})),o.createElement(Cn.Z.Item,{key:"genesys-form-submit-btn"},o.createElement(r.default,{shape:"round",htmlType:"submit"},o.createElement(H,{id:"NEXT"}))))),x.push(o.createElement(g.default,null,o.createElement(u.default,{style:{margin:"0 10px"}},null==a||null===(n=a.categories)||void 0===n?void 0:n.map((function(e,t){return o.createElement(g.default,{key:"suggestion-".concat(e.genesysField),justify:"start",align:"middle",style:t<a.categories.length-1?{marginBottom:"14px"}:{}},o.createElement(L,{suggestion:e.label,messageToSend:JSON.stringify(Nn(Nn({},E),{},{type:C().MESSAGE_TYPES.HIDDEN,__topic:e.genesysField}))}))}))))),o.createElement(Z.Z,{style:{alignItems:"center",backgroundColor:s["@primary-color"],border:"none",borderRadius:"8px",width:"396px",textAlign:"center"}},x[f]);default:return o.createElement(i.Z,null,"Unknown livechat solution ",a.type," - or not yet implemented")}};function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gn.apply(this,arguments)}function Fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var zn=Ze.Z.getInstance(),Hn=function(){var e=(0,l.I0)(),t=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),n=(0,l.v9)((function(e){return e.settings.currentState.isOpen})),a=t.fullScreen,c=t.context,x=t.originDomain===t.chatServer||a,S=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),w=(0,l.v9)((function(e){return e.settings.themeKit.avatar})),O=(0,l.v9)((function(e){return e.settings.themeKit.displaySuggestions})),A=(0,l.v9)((function(e){return e.messaging.suggestions})),I=(0,l.v9)((function(e){return e.messaging.livechat})),k=I&&I.connection&&I.connection.isConnecting,_=I&&I.coBrowsing3_storedStream&&I.coBrowsing3_storedStream.storedDisplayMedia,j=(0,l.v9)((function(e){return e.messaging.messages})),N=j&&Array.isArray(j)&&j.length&&j[j.length-1],P=N.type===C().MESSAGE_TYPES.LIVECHAT.FEEDBACK||N.type===C().MESSAGE_TYPES.FEEDBACK,R=(0,l.v9)((function(e){return e.connectedAccount.data}));(0,o.useEffect)((function(){var a;a||(a=setTimeout((function(){"visible"===document.visibilityState&&e((0,T.Yh)(t.locale,R._id,c))}),1e3));var r=function(){"visible"===document.visibilityState&&n&&(a&&clearTimeout(a),e((0,T.Yh)(t.locale,R._id,c)),"true"===zn.getConnectedToLivechatStatus()&&e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.CLIENT_RECONNECT,conversationId:zn.getConversationId()}))),"hidden"===document.visibilityState&&"true"===zn.getConnectedToLivechatStatus()&&e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{eventName:Re().LIVECHAT.CLIENT_DISCONNECT,conversationId:zn.getConversationId()}))};return window.addEventListener("visibilitychange",r),function(){window.removeEventListener("visibilitychange",r)}}),[]);var M,Z=(0,l.v9)((function(e){return e.messaging.idleMode})),D=(0,l.v9)((function(e){return e.messaging.inactivityModalInfo})),G=(0,l.v9)((function(e){return e.messaging.conversationId})),F=Fn((0,o.useState)(!1),2),B=F[0],z=F[1],V=Fn((0,o.useState)(100),2),U=V[0],Y=V[1],q=D.closingTimer-D.timeoutValueInSeconds,W=Fn((0,o.useState)(q),2),K=W[0],$=W[1],Q=function t(n,a){Y(100*n/a),$(n),n>0&&(M=setTimeout((function(){return t(n-1,a)}),1e3)),n<=0&&(zn.removeConversationId(),_&&(_.oninactive=null,_.getTracks().forEach((function(e){e.stop()})),e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:zn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===zn.getConnectedToLivechatStatus()&&("true"===zn.getCoBrowsingStatus()&&(zn.removeCoBrowsingStatus(),e((0,s.Tt)({stopCobrowse:!0}))),zn.removeConnectedToLivechatStatus(),e((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:G}))),(0,E.pt)(),z(!0),clearTimeout(M))};(0,o.useEffect)((function(){if(Z)return Q(q,q),function(){return clearTimeout(M)}}),[Z]);var J,X,ee=Fn((0,o.useState)(!0),2),te=ee[0],ne=ee[1],ae=Fn((0,o.useState)(0),2),re=ae[0],ie=ae[1],oe=function(){ie(re+100)};if((0,o.useEffect)((function(){return re<100&&(X=setTimeout((function(){return oe()}),1e3)),function(){clearTimeout(X)}}),[re]),(0,o.useEffect)((function(){return te&&(oe(),J=setTimeout((function(){return ne(!1)}),1e3)),function(){clearTimeout(J)}}),[te]),te){var le={height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:S&&S["@background-snippet-color"]};return x||b.tq||(le=Gn({},le,{borderRadius:"25px",border:"2px solid ".concat(S["@primary-color"]),borderTopRightRadius:0})),o.createElement("div",{style:le},o.createElement(y.ZP,{src:w,size:128}),o.createElement(v.default,{percent:re,showInfo:!1,status:"active",style:{width:"250px"},strokeColor:S&&S["@primary-color"]}))}if(Z){var ce={height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:S&&S["@background-snippet-color"]};return x||b.tq||(ce=Gn({},ce,{borderRadius:"25px",borderTopRightRadius:"0px",border:"2px solid ".concat(S&&S["@primary-color"])})),o.createElement("div",{style:ce},o.createElement(y.ZP,{src:w,size:128}),B?o.createElement("div",null,o.createElement(g.default,{justify:"center"},o.createElement(i.Z.Text,{style:{color:S&&S["@primary-color"],maxWidth:400,textAlign:"justify"}},o.createElement(H,{id:"IDLE_MODE_CLOSED"}))),o.createElement(g.default,{justify:"center"},o.createElement(f.default,null,!a&&o.createElement(r.default,{onClick:function(){z(!1),e((0,s.AN)(t.originDomain))}},o.createElement(H,{id:"CLOSE_TOOLTIP"})),o.createElement(r.default,{type:"primary",onClick:function(){e((0,T.fP)(!1)),Y(100),$(q),z(!1),e((0,T.Yh)(t.locale,R._id,c))}},o.createElement(H,{id:"RELOAD_TOOLTIP"}))))):o.createElement("div",null,o.createElement(g.default,{justify:"center"},o.createElement(i.Z.Title,{level:5,style:{color:S&&S["@primary-color"],maxWidth:400,textAlign:"justify"}},D.title)),o.createElement(g.default,{justify:"center"},o.createElement(i.Z.Text,{style:{color:S&&S["@primary-color"]}},D.message)),o.createElement(g.default,{justify:"center"},o.createElement(f.default,null,o.createElement(r.default,{onClick:function(){zn.removeConversationId(),_&&(_.oninactive=null,_.getTracks().forEach((function(e){e.stop()})),e((0,T.R0)(Re().LIVECHAT.EVENT_FROM_MB,{conversationId:zn.getConversationId(),eventName:"STOP_SHARING"}))),"true"===zn.getConnectedToLivechatStatus()&&("true"===zn.getCoBrowsingStatus()&&(zn.removeCoBrowsingStatus(),e((0,s.Tt)({stopCobrowse:!0}))),zn.removeConnectedToLivechatStatus(),e((0,T.R0)(Re().LIVECHAT.CHAT_CLOSE,{conversationId:G,isCoBrowsing:"true"===zn.getCoBrowsingStatus()}))),(0,E.pt)(),z(!0)}},D.cancelText),o.createElement(r.default,{type:"primary",onClick:function(){e((0,T.fP)(!1))}},D.okText))),o.createElement(d.Z,null),o.createElement(g.default,{justify:"center"},o.createElement(v.default,{percent:U,showInfo:!1,status:"active",style:{width:"250px"},strokeColor:S&&S["@primary-color"],format:function(){return o.createElement(y.ZP,{src:w,size:128})}})),o.createElement(g.default,{justify:"center"},o.createElement(i.Z.Text,{style:{color:S&&S["@primary-color"]}},o.createElement(H,{id:"IDLE_MODE_CLOSING_IN",valuesGiven:{timer:K}})))))}return o.createElement(p.Z,{className:"snippet-wrapper",style:x?{fontSize:S&&S["@font-size-base"],fontFamily:S&&S["@font-family"]}:{fontSize:S&&S["@font-size-base"],fontFamily:S&&S["@font-family"],borderRadius:"25px",border:"2px solid ".concat(S&&S["@primary-color"]),borderTopRightRadius:0}},o.createElement(En,null),o.createElement(p.Z.Content,{className:"snippet-content",style:{display:"flex",flexDirection:"column",borderBottomLeftRadius:"25px",borderBottomRightRadius:"25px"}},k?o.createElement(Zn,null):o.createElement(o.Fragment,null,o.createElement(g.default,{justify:"center",style:{flex:"1 1 250px"}},o.createElement(At,null)),"bottom"===O&&A&&A.length>0&&o.createElement(g.default,{style:{height:"auto",minHeight:90}},o.createElement(u.default,{span:24,style:{display:"flex",flexDirection:"column",height:"100%"}},o.createElement(g.default,{style:{maxHeight:30},justify:"start",align:"middle",className:x?"messaging-system fullScreen":""},o.createElement(i.Z.Text,{type:"secondary",style:{textTransform:"uppercase",marginLeft:10,marginRight:10,fontSize:"0.8rem",color:S&&S["@text-snippet-color"]}},o.createElement(H,{id:"SUGGESTION_TITLE"})),o.createElement(m.Z,{count:A.length,style:{backgroundColor:S&&S["@primary-color"],color:S&&S["@text-user-color"],borderColor:S&&S["@background-snippet-color"],marginBottom:5}})),o.createElement(h.$B,{hideTracksWhenNotNeeded:!0,renderThumbVertical:function(e){return o.createElement("div",Gn({},e,{style:{borderRadius:8,backgroundColor:S&&S["@text-snippet-color"]},className:"thumb-vertical"}))},style:{flexBasis:Math.max(35*A.length+40,90).toString()+"px",minHeight:0,height:"auto",marginBottom:10}},o.createElement(g.default,{className:x?"messaging-system fullScreen":""},o.createElement(u.default,{style:{margin:"0 10px"}},A&&A.map((function(e,t){return o.createElement(g.default,{key:"suggestion"+t,justify:"start",align:"middle",style:t<A.length-1?{marginBottom:"14px"}:{}},o.createElement(L,{suggestion:e}))}))))))),P&&o.createElement(An,null))),o.createElement(on,null))},Vn=n(57500),Un=n(65526);function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Wn=n(87735),Kn=n(49704),$n=(n(87907)("loginHub"),function(){var e=(0,l.I0)(),t=window.location,n=(0,w.Z)(),a=(0,l.v9)((function(e){return e.settings.themeKit.themeVars})),c=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),u=c.fullScreen,m=c.originDomain,f=window.self!==window.top,v="true"===window.env.OPENID_AUTO_LOGIN,y=new Vn.N(m),E=(0,Un.getAuthTypes)(),b=window.env.LANGUAGES&&window.env.LANGUAGES.split(",").map((function(e){return e.trim()})),h=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript.locale})),x=Yn((0,o.useState)(!1),2),S=x[0],T=x[1],O=Yn((0,o.useState)(!1),2),A=O[0],I=O[1],k=Yn((0,o.useState)(!1),2),_=k[0],j=k[1],N=Yn((0,o.useState)(!1),2),P=N[0],R=N[1],L=(0,l.v9)((function(e){return e.errors}));o.useEffect((function(){""!==L.message?j(!0):j(!1)}),[L]);var M=Yn((0,o.useState)(),2),D=M[0],G=M[1],F=Yn((0,o.useState)(),2),B=F[0],z=F[1],V=function(){var t,n=D,a=B;if(n||T(!0),a||I(!0),n&&a){var r=n,i=(t=a,Kn.sign({data:t},window.env.PASSWORD_PREFIX||"abcd",{expiresIn:C().TOKEN_EXPIRATION}));e((0,gn.x4)(r,i))}},U=Ze.Z.getInstance(),Y=(0,l.v9)((function(e){return e.connectedAccount.openIdLoginUrl})),q=(0,l.v9)((function(e){return e.connectedAccount.samlLoginUrl})),W=(0,l.v9)((function(e){return e.connectedAccount.hasBeenAuthenticatedWithOpenId})),K="true"===U.getChatOpenedStatus();return(0,o.useEffect)((function(){if("none"===window.env.AUTH_TYPE?e((0,gn.x4)(C().VISITOR_ACCOUNT,"")):y.sendPostMessage(C().POSTMESSAGE_EVENTS.REQUEST_AUTH_TOKENS,{}),E&&E.includes("openid")){var n="?"===t.search[0]?t.search.substring(1):t.search,a=Wn.parse(n);if(a&&a.code&&a.session_state)e((0,gn._b)(a.session_state,a.code,U.getChallengeKey()||"abcd"));else if(a&&a.error)R(!0);else if((!a||!a.code||!a.session_state)&&!Y&&(!f||v&&!P&&!W)&&K){var r=new URL(window.location.href);r.pathname=(0,Un.createChatURL)("/",!0),r.search="",e((0,gn.D9)(r.href,f))}}if(E&&E.includes("saml")){var i="?"===t.search[0]?t.search.substring(1):t.search,o=Wn.parse(i);if(o&&o.data)try{var l=Kn.decode(o.data);e((0,gn.he)(l))}catch(e){}else if(!(o&&o.data||q||f)){var c=new URL(window.location.href);c.pathname=(0,Un.createChatURL)("/",!0),c.search="",e((0,gn.OT)(c.href))}}}),[]),E.includes("openid")&&f&&(0,o.useEffect)((function(){Y&&(console.log("trying to auto login using openid"),window.location.href=Y)}),[Y]),o.createElement(p.Z,{className:"globalContainer",style:(u?{height:"100%"}:{borderRadius:25,borderTopRightRadius:0,border:"2px solid ".concat(a["@primary-color"]),height:"100%"})||{}},o.createElement(En,null),o.createElement(p.Z.Content,{className:"mb_content clearing",id:"content"},o.createElement("div",{className:"_mblc",style:{backgroundColor:a["@background-snippet-color"]}},o.createElement("div",{className:"_mblci_center"},o.createElement("div",{className:"_mblfc"},o.createElement("div",{className:"_mblfci"},o.createElement(Z.Z,{style:{alignItems:"center",backgroundColor:a["@primary-color"],border:"none",borderRadius:"8px",boxShadow:"0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%)",boxSizing:"border-box",padding:"20px 0 28px",width:"396px",textAlign:"center",paddingBottom:"24px",paddingTop:"10px"}},!E||0===E.length&&o.createElement("p",null,"Error: AUTH_TYPE not set in environment variables"),E&&E.length>0&&E.includes("openid")&&!f&&o.createElement(r.default,{size:"large",style:{textAlign:"left",display:"flex",marginBottom:10},block:!0,disabled:!Y,loading:!Y,href:Y},o.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},o.createElement(H,{id:"LOGIN_SCREEN_OPENID_CONNECT_BUTTON"}))),E&&E.length>0&&E.includes("saml")&&!f&&o.createElement("div",null,window.env.SAML_LOGIN_ENTRYPOINT&&""!==window.env.SAML_LOGIN_ENTRYPOINT?o.createElement(r.default,{size:"large",style:{textAlign:"left",display:"flex",marginBottom:10},block:!0,disabled:!q,loading:!q,href:q},o.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},o.createElement(H,{id:"LOGIN_SCREEN_SAML_CONNECT_BUTTON"}))):o.createElement(pn.default,{type:"warning",message:o.createElement(H,{id:"LOGIN_SCREEN_SAML_IMPOSSIBLE_DESCRIPTION"}),style:{textAlign:"left"}})),E&&E.length>0&&E.includes("none")&&o.createElement("div",null,o.createElement(r.default,{size:"large",style:{textAlign:"left",display:"flex",marginBottom:10},block:!0,onClick:function(){e((0,gn.x4)(C().VISITOR_ACCOUNT,""))}},o.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},o.createElement(H,{id:"LOGIN_SCREEN_VISITOR_CONNECT_BUTTON"})))),E&&E.length>0&&(E.includes("saml")||E.includes("openid")||E.includes("none"))&&o.createElement(d.Z,{style:{borderColor:a["@background-snippet-color"],margin:"10px 0",color:a["@background-snippet-color"]}},o.createElement(H,{id:"LOGIN_SCREEN_OR"})),o.createElement("form",{method:"post"},o.createElement(Rt.Z,{size:"large",name:"username",id:"Username",value:D,onChange:function(e){G(e.target.value)},placeholder:n.formatMessage({id:"LOGIN_SCREEN_USERNAME_PLACEHOLDER"}),autoFocus:!0,"aria-label":n.formatMessage({id:"LOGIN_SCREEN_USERNAME_PLACEHOLDER"}),style:{marginBottom:10},onKeyDown:function(e){13===e.keyCode&&(I(!1),T(!1),V())}}),S&&o.createElement(pn.default,{style:{marginBottom:10},banner:!0,type:"error",message:o.createElement(H,{id:"LOGIN_SCREEN_FIELD_USERNAME_ERROR"})}),o.createElement(Rt.Z.Password,{size:"large",name:"password",id:"Password",value:B,onChange:function(e){z(e.target.value)},placeholder:n.formatMessage({id:"LOGIN_SCREEN_PASSWORD_PLACEHOLDER"}),"aria-label":n.formatMessage({id:"LOGIN_SCREEN_PASSWORD_PLACEHOLDER"}),style:{marginBottom:10},onKeyDown:function(e){13===e.keyCode&&(I(!1),T(!1),V())}}),A&&o.createElement(pn.default,{style:{marginBottom:10},banner:!0,type:"error",message:o.createElement(H,{id:"LOGIN_SCREEN_FIELD_PASSWORD_ERROR"})}),_&&o.createElement(pn.default,{style:{marginBottom:10},banner:!0,type:"error",message:o.createElement(H,{id:"MESSAGE_ERROR_"+L.message.toUpperCase()+"_MESSAGE",valuesGiven:{message:L.message}})}),o.createElement(r.default,{name:"login",onClick:function(){I(!1),T(!1),V()},size:"large",style:{textAlign:"left",display:"flex"},block:!0},o.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},o.createElement(H,{id:"LOGIN_SCREEN_LOGIN_BUTTON"})))))))))),u&&o.createElement(p.Z.Footer,{style:{paddingTop:20,backgroundColor:a["@white"]}},o.createElement(g.default,null,o.createElement("ul",{style:{paddingTop:"8px",alignItems:"center",display:"flex",flexWrap:"wrap",listStyleType:"none",margin:"0",padding:"0"}},b&&b.map((function(t){return o.createElement("li",{key:t,style:{paddingLeft:10}},t===h?o.createElement(H,{id:"LANGUAGE_"+t.split("-")[1].toUpperCase()}):o.createElement(i.Z.Link,{onClick:function(){e((0,s.ZW)(t))}},o.createElement(H,{id:"LANGUAGE_"+t.split("-")[1].toUpperCase()})))})))),o.createElement(d.Z,null),o.createElement(g.default,null,o.createElement(i.Z.Text,{type:"secondary",style:{paddingLeft:10}},"SopraSteria © ",(new Date).getFullYear()," "))))});function Qn(e){return Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(e)}function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ea(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Qn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!==Qn(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qn(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?na(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var aa=Ze.Z.getInstance(),ra=function(){var e=(0,l.v9)((function(e){return e.settings.themeKit}));if(aa.areCookiesDisabled)return o.createElement("span",{style:{zIndex:100,position:"fixed",bottom:0,right:0,height:60,width:390,minWidth:150,paddingLeft:5,backgroundColor:e.themeVars["@embedded-button-background-when-snippet-closed"],border:"solid 2px ".concat(e.themeVars["@embedded-button-border-color-when-snippet-closed"]),borderRadius:10,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",verticalAlign:"middle"}},o.createElement(i.Z.Text,{style:{color:e.themeVars["@embedded-button-icon-color-when-snippet-closed"],verticalAlign:"middle"}},o.createElement(H,{id:"COOKIE_DISABLED_ERROR"})));var t=(0,l.I0)(),n=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),p=(0,l.v9)((function(e){return e.settings.currentState.isOpen})),u=e.themeVars["@embedded-button-shape-when-closed"]?e.themeVars["@embedded-button-shape-when-closed"]:"circle",m=e.themeVars["@embedded-button-shape-when-opened"]?e.themeVars["@embedded-button-shape-when-opened"]:"circle",d=e.embeddedButton,f=ta((0,o.useState)(!1),2),g=f[0],v=f[1],y=ta((0,o.useState)(),2),E=y[0],b=y[1],h=g?"-hover":"",x=p?"-opened":"-closed";return(0,o.useEffect)((function(){b({backgroundColor:e.themeVars["@embedded-button-background".concat(h,"-when-snippet").concat(x)],border:"solid 2px ".concat(e.themeVars["@embedded-button-border-color".concat(h,"-when-snippet").concat(x)]),color:e.themeVars["@embedded-button-icon-color".concat(h,"-when-snippet").concat(x)]})}),[g]),!p&&e.embeddedButton&&e.embeddedButton.displayButtonWhenClosed?o.createElement(r.default,{style:Xn(Xn({zIndex:100,position:"fixed",bottom:0,right:0,height:60,width:"round"===e.themeVars["@embedded-button-shape-when".concat(x)]?"auto":60,minWidth:"round"===e.themeVars["@embedded-button-shape-when".concat(x)]?70:void 0},E),{},{backgroundImage:d&&d.isUsingPersonalisedIconWhenClosed?"url(".concat(d.iconWhenClosed,")"):"",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}),size:"large",shape:u,icon:d&&d.isUsingPersonalisedIconWhenClosed?o.createElement("span",null):o.createElement(c.Z,{style:{fontSize:"32px",color:g?e.themeVars["@embedded-button-icon-color-hover-when-closed"]:e.themeVars["@embedded-button-icon-color-when-closed"]}}),onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},onClick:function(){t((0,s.AN)(n.originDomain))}}):e.embeddedButton&&e.embeddedButton.displayButtonWhenOpened?o.createElement(a.default,{placement:"left",title:o.createElement(H,{id:"MINUS_TOOLTIP"}),overlayStyle:!p&&{display:null}||{}},o.createElement(r.default,{style:Xn(Xn({zIndex:100,position:"fixed",bottom:0,right:0,width:60,height:60},E),{},{backgroundImage:d&&d.isUsingPersonalisedIconWhenOpened?"url(".concat(d.iconWhenOpened,")"):"",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}),size:"large",shape:m,icon:d&&d.isUsingPersonalisedIconWhenOpened?o.createElement("span",null):o.createElement(c.Z,{style:{fontSize:"32px",color:g?e.themeVars["@snippet-icon-color-hover-when-closed"]:e.themeVars["@snippet-icon-color-when-closed"]}}),onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},onClick:function(){t((0,s.AN)(n.originDomain))}})):o.createElement("div",null)};const ia=function(){var e=(0,l.v9)((function(e){return e.settings.sentFromIntegrationScript})),t=e.originDomain===e.chatServer,n=(0,l.v9)((function(e){return e.connectedAccount.isAuthenticated})),a=e.fullScreen,r=e.haveMyOwnButton,i=(0,l.v9)((function(e){return e.settings.currentState.isOpen})),c=(0,l.v9)((function(e){return e.settings.themeKit.embeddedButton&&e.settings.themeKit.embeddedButton.displayButtonWhenOpened}));o.useEffect((function(){i&&aa.setChatOpenedStatus("true"),i||a||(aa.removeChatOpenedStatus(),aa.getConversationId()||(0,E.pt)())}),[i]);var s=(0,l.v9)((function(e){return e.settings.currentState.isPreviewingImage})),p=ta((0,o.useState)(s),2),u=p[0],m=p[1];(0,o.useEffect)((function(){m(s)}),[s]);var d=aa.getConversationId();if(!i&&!a)return o.createElement(ra,null);var f=a||t,g={};return b.tq&&(g={height:"100%",width:"100%"}),f||b.tq||(g={height:"100%",width:"100%",overflow:"hidden"}),u&&(g={display:"none"}),o.createElement("div",{id:f?"":"snippet-embedded-container",style:g},(d||i||f)&&o.createElement("div",{className:f?"":"snippet-embedded",style:f?{width:"100%",height:"100%",position:"absolute",bottom:0,right:0,overflowX:"hidden"}:{width:c?"calc(100% - 25px)":"100%",height:c?"calc(100% - 25px)":"100%",borderRadius:"25px",display:i?"block":"none"}},n?o.createElement(Hn,null):o.createElement($n,null)),!r&&!f&&o.createElement(ra,null))}},1950:e=>{e.exports.L={images:"image/*",123:"application/vnd.lotus-1-2-3","3dml":"text/vnd.in3d.3dml","3g2":"video/3gpp2","3gp":"video/3gpp",a:"application/octet-stream",aab:"application/x-authorware-bin",aac:"audio/x-aac",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",abw:"application/x-abiword",acc:"application/vnd.americandynamics.acc",ace:"application/x-ace-compressed",acu:"application/vnd.acucobol",acutc:"application/vnd.acucorp",adp:"audio/adpcm",aep:"application/vnd.audiograph",afm:"application/x-font-type1",afp:"application/vnd.ibm.modcap",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",air:"application/vnd.adobe.air-application-installer-package+zip",ami:"application/vnd.amiga.ami",apk:"application/vnd.android.package-archive",application:"application/x-ms-application",apr:"application/vnd.lotus-approach",asc:"application/pgp-signature",asf:"video/x-ms-asf",asm:"text/x-asm",aso:"application/vnd.accpac.simply.aso",asx:"video/x-ms-asf",atc:"application/vnd.acucorp",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomsvc:"application/atomsvc+xml",atx:"application/vnd.antix.game-component",au:"audio/basic",avi:"video/x-msvideo",aw:"application/applixware",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azw:"application/vnd.amazon.ebook",bat:"application/x-msdownload",bcpio:"application/x-bcpio",bdf:"application/x-font-bdf",bdm:"application/vnd.syncml.dm+wbxml",bh2:"application/vnd.fujitsu.oasysprs",bin:"application/octet-stream",bmi:"application/vnd.bmi",bmp:"image/bmp",book:"application/vnd.framemaker",box:"application/vnd.previewsystems.box",boz:"application/x-bzip2",bpk:"application/octet-stream",btif:"image/prs.btif",bz:"application/x-bzip",bz2:"application/x-bzip2",c:"text/x-c",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4g:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",cab:"application/vnd.ms-cab-compressed",car:"application/vnd.curl.car",cat:"application/vnd.ms-pki.seccat",cc:"text/x-c",cct:"application/x-director",ccxml:"application/ccxml+xml",cdbcmsg:"application/vnd.contact.cmsg",cdf:"application/x-netcdf",cdkey:"application/vnd.mediastation.cdkey",cdx:"chemical/x-cdx",cdxml:"application/vnd.chemdraw+xml",cdy:"application/vnd.cinderella",cer:"application/pkix-cert",cgm:"image/cgm",chat:"application/x-chat",chm:"application/vnd.ms-htmlhelp",chrt:"application/vnd.kde.kchart",cif:"chemical/x-cif",cii:"application/vnd.anser-web-certificate-issue-initiation",cil:"application/vnd.ms-artgalry",cla:"application/vnd.claymore",class:"application/java-vm",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",clkx:"application/vnd.crick.clicker",clp:"application/x-msclip",cmc:"application/vnd.cosmocaller",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",cmp:"application/vnd.yellowriver-custom-menu",cmx:"image/x-cmx",cod:"application/vnd.rim.cod",com:"application/x-msdownload",conf:"text/plain",cpio:"application/x-cpio",cpp:"text/x-c",cpt:"application/mac-compactpro",crd:"application/x-mscardfile",crl:"application/pkix-crl",crt:"application/x-x509-ca-cert",csh:"application/x-csh",csml:"chemical/x-csml",csp:"application/vnd.commonspace",css:"text/css",cst:"application/x-director",csv:"text/csv",cu:"application/cu-seeme",curl:"text/vnd.curl",cww:"application/prs.cww",cxt:"application/x-director",cxx:"text/x-c",daf:"application/vnd.mobius.daf",dataless:"application/vnd.fdsn.seed",davmount:"application/davmount+xml",dcr:"application/x-director",dcurl:"text/vnd.curl.dcurl",dd2:"application/vnd.oma.dd2+xml",ddd:"application/vnd.fujixerox.ddd",deb:"application/x-debian-package",def:"text/plain",deploy:"application/octet-stream",der:"application/x-x509-ca-cert",dfac:"application/vnd.dreamfactory",dic:"text/x-c",diff:"text/plain",dir:"application/x-director",dis:"application/vnd.mobius.dis",dist:"application/octet-stream",distz:"application/octet-stream",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/x-msdownload",dmg:"application/octet-stream",dms:"application/octet-stream",dna:"application/vnd.dna",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dp:"application/vnd.osgi.dp",dpg:"application/vnd.dpgraph",dsc:"text/prs.lines.tag",dtb:"application/x-dtbook+xml",dtd:"application/xml-dtd",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",dump:"application/octet-stream",dvi:"application/x-dvi",dwf:"model/vnd.dwf",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",dxp:"application/vnd.spotfire.dxp",dxr:"application/x-director",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",ecma:"application/ecmascript",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",efif:"application/vnd.picsel",ei6:"application/vnd.pg.osasli",elc:"application/octet-stream",eml:"message/rfc822",emma:"application/emma+xml",eol:"audio/vnd.digital-winds",eot:"application/vnd.ms-fontobject",eps:"application/postscript",epub:"application/epub+zip",es3:"application/vnd.eszigno3+xml",esf:"application/vnd.epson.esf",et3:"application/vnd.eszigno3+xml",etx:"text/x-setext",exe:"application/x-msdownload",ext:"application/vnd.novadigm.ext",ez:"application/andrew-inset",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",f:"text/x-fortran",f4v:"video/x-f4v",f77:"text/x-fortran",f90:"text/x-fortran",fbs:"image/vnd.fastbidsheet",fdf:"application/vnd.fdf",fe_launch:"application/vnd.denovo.fcselayout-link",fg5:"application/vnd.fujitsu.oasysgp",fgd:"application/x-director",fh:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",fhc:"image/x-freehand",fig:"application/x-xfig",fli:"video/x-fli",flo:"application/vnd.micrografx.flo",flv:"video/x-flv",flw:"application/vnd.kde.kivio",flx:"text/vnd.fmi.flexstor",fly:"text/vnd.fly",fm:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",for:"text/x-fortran",fpx:"image/vnd.fpx",frame:"application/vnd.framemaker",fsc:"application/vnd.fsc.weblaunch",fst:"image/vnd.fst",ftc:"application/vnd.fluxtime.clip",fti:"application/vnd.anser-web-funds-transfer-initiation",fvt:"video/vnd.fvt",fzs:"application/vnd.fuzzysheet",g3:"image/g3fax",gac:"application/vnd.groove-account",gdl:"model/vnd.gdl",geo:"application/vnd.dynageo",gex:"application/vnd.geometry-explorer",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",ghf:"application/vnd.groove-help",gif:"image/gif",gim:"application/vnd.groove-identity-message",gmx:"application/vnd.gmx",gnumeric:"application/x-gnumeric",gph:"application/vnd.flographit",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gram:"application/srgs",gre:"application/vnd.geometry-explorer",grv:"application/vnd.groove-injector",grxml:"application/srgs+xml",gsf:"application/x-font-ghostscript",gtar:"application/x-gtar",gtm:"application/vnd.groove-tool-message",gtw:"model/vnd.gtw",gv:"text/vnd.graphviz",gz:"application/x-gzip",h:"text/x-c",h261:"video/h261",h263:"video/h263",h264:"video/h264",hbci:"application/vnd.hbci",hdf:"application/x-hdf",hh:"text/x-c",hlp:"application/winhlp",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",hqx:"application/mac-binhex40",htke:"application/vnd.kenameaapp",htm:"text/html",html:"text/html",hvd:"application/vnd.yamaha.hv-dic",hvp:"application/vnd.yamaha.hv-voice",hvs:"application/vnd.yamaha.hv-script",icc:"application/vnd.iccprofile",ice:"x-conference/x-cooltalk",icm:"application/vnd.iccprofile",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",ifm:"application/vnd.shana.informed.formdata",iges:"model/iges",igl:"application/vnd.igloader",igs:"model/iges",igx:"application/vnd.micrografx.igx",iif:"application/vnd.shana.informed.interchange",imp:"application/vnd.accpac.simply.imp",ims:"application/vnd.ms-ims",in:"text/plain",ipk:"application/vnd.shana.informed.package",irm:"application/vnd.ibm.rights-management",irp:"application/vnd.irepository.package+xml",iso:"application/octet-stream",itp:"application/vnd.shana.informed.formtemplate",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",jad:"text/vnd.sun.j2me.app-descriptor",jam:"application/vnd.jam",jar:"application/java-archive",java:"text/x-java-source",jisp:"application/vnd.jisp",jlt:"application/vnd.hp-jlyt",jnlp:"application/x-java-jnlp-file",joda:"application/vnd.joost.joda-archive",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",jpgm:"video/jpm",jpgv:"video/jpeg",jpm:"video/jpm",js:"application/javascript",json:"application/json",kar:"audio/midi",karbon:"application/vnd.kde.karbon",kfo:"application/vnd.kde.kformula",kia:"application/vnd.kidspiration",kil:"application/x-killustrator",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",kne:"application/vnd.kinar",knp:"application/vnd.kinar",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",ksh:"text/plain",ksp:"application/vnd.kde.kspread",ktr:"application/vnd.kahootz",ktz:"application/vnd.kahootz",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",latex:"application/x-latex",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",les:"application/vnd.hhe.lesson-player",lha:"application/octet-stream",link66:"application/vnd.route66.link66+xml",list:"text/plain",list3820:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",log:"text/plain",lostxml:"application/lost+xml",lrf:"application/octet-stream",lrm:"application/vnd.ms-lrm",ltf:"application/vnd.frogans.ltf",lvp:"audio/vnd.lucent.voice",lwp:"application/vnd.lotus-wordpro",lzh:"application/octet-stream",m13:"application/x-msmediaview",m14:"application/x-msmediaview",m1v:"video/mpeg",m2a:"audio/mpeg",m2v:"video/mpeg",m3a:"audio/mpeg",m3u:"audio/x-mpegurl",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",ma:"application/mathematica",mag:"application/vnd.ecowin.chart",maker:"application/vnd.framemaker",man:"text/troff",mathml:"application/mathml+xml",mb:"application/mathematica",mbk:"application/vnd.mobius.mbk",mbox:"application/mbox",mc1:"application/vnd.medcalcdata",mcd:"application/vnd.mcd",mcurl:"text/vnd.curl.mcurl",mdb:"application/x-msaccess",mdi:"image/vnd.ms-modi",me:"text/troff",mesh:"model/mesh",mfm:"application/vnd.mfmp",mgz:"application/vnd.proteus.magazine",mht:"message/rfc822",mhtml:"message/rfc822",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mime:"message/rfc822",mj2:"video/mj2",mjp2:"video/mj2",mlp:"application/vnd.dolby.mlp",mmd:"application/vnd.chipnuts.karaoke-mmd",mmf:"application/vnd.smaf",mmr:"image/vnd.fujixerox.edmics-mmr",mny:"application/x-msmoney",mobi:"application/x-mobipocket-ebook",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp2a:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mp4a:"audio/mp4",mp4s:"application/mp4",mp4v:"video/mp4",mpa:"video/mpeg",mpc:"application/vnd.mophun.certificate",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpkg:"application/vnd.apple.installer+xml",mpm:"application/vnd.blueice.multipass",mpn:"application/vnd.mophun.application",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",mpy:"application/vnd.ibm.minipay",mqy:"application/vnd.mobius.mqy",mrc:"application/marc",ms:"text/troff",mscml:"application/mediaservercontrol+xml",mseed:"application/vnd.fdsn.mseed",mseq:"application/vnd.mseq",msf:"application/vnd.epson.msf",msh:"model/mesh",msi:"application/x-msdownload",msl:"application/vnd.mobius.msl",msty:"application/vnd.muvee.style",mts:"model/vnd.mts",mus:"application/vnd.musician",musicxml:"application/vnd.recordare.musicxml+xml",mvb:"application/x-msmediaview",mwf:"application/vnd.mfer",mxf:"application/mxf",mxl:"application/vnd.recordare.musicxml",mxml:"application/xv+xml",mxs:"application/vnd.triscape.mxs",mxu:"video/vnd.mpegurl","n-gage":"application/vnd.nokia.n-gage.symbian.install",nb:"application/mathematica",nc:"application/x-netcdf",ncx:"application/x-dtbncx+xml",ngdat:"application/vnd.nokia.n-gage.data",nlu:"application/vnd.neurolanguage.nlu",nml:"application/vnd.enliven",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",npx:"image/vnd.net-fpx",nsf:"application/vnd.lotus-notes",nws:"message/rfc822",o:"application/octet-stream",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",oas:"application/vnd.fujitsu.oasys",obd:"application/x-msbinder",obj:"application/octet-stream",oda:"application/oda",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",onepkg:"application/onenote",onetmp:"application/onenote",onetoc:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",oprc:"application/vnd.palm",org:"application/vnd.lotus-organizer",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",otc:"application/vnd.oasis.opendocument.chart-template",otf:"application/x-font-otf",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",oti:"application/vnd.oasis.opendocument.image-template",otm:"application/vnd.oasis.opendocument.text-master",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",oxt:"application/vnd.openofficeorg.extension",p:"text/x-pascal",p10:"application/pkcs10",p12:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7r:"application/x-pkcs7-certreqresp",p7s:"application/pkcs7-signature",pas:"text/x-pascal",pbd:"application/vnd.powerbuilder6",pbm:"image/x-portable-bitmap",pcf:"application/x-font-pcf",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl",pct:"image/x-pict",pcurl:"application/vnd.curl.pcurl",pcx:"image/x-pcx",pdb:"application/vnd.palm",pdf:"application/pdf",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",pfr:"application/font-tdpfr",pfx:"application/x-pkcs12",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pgp:"application/pgp-encrypted",pic:"image/x-pict",pkg:"application/octet-stream",pki:"application/pkixcmp",pkipath:"application/pkix-pkipath",pl:"text/plain",plb:"application/vnd.3gpp.pic-bw-large",plc:"application/vnd.mobius.plc",plf:"application/vnd.pocketlearn",pls:"application/pls+xml",pml:"application/vnd.ctc-posml",png:"image/png",pnm:"image/x-portable-anymap",portpkg:"application/vnd.macports.portpkg",pot:"application/vnd.ms-powerpoint",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppa:"application/vnd.ms-powerpoint",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",ppd:"application/vnd.cups-ppd",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppt:"application/vnd.ms-powerpoint",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pqa:"application/vnd.palm",prc:"application/x-mobipocket-ebook",pre:"application/vnd.lotus-freelance",prf:"application/pics-rules",ps:"application/postscript",psb:"application/vnd.3gpp.pic-bw-small",psd:"image/vnd.adobe.photoshop",psf:"application/x-font-linux-psf",ptid:"application/vnd.pvi.ptid1",pub:"application/x-mspublisher",pvb:"application/vnd.3gpp.pic-bw-var",pwn:"application/vnd.3m.post-it-notes",pwz:"application/vnd.ms-powerpoint",py:"text/x-python",pya:"audio/vnd.ms-playready.media.pya",pyc:"application/x-python-code",pyo:"application/x-python-code",pyv:"video/vnd.ms-playready.media.pyv",qam:"application/vnd.epson.quickanime",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",qps:"application/vnd.publishare-delta-tree",qt:"video/quicktime",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",qxd:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rar:"application/x-rar-compressed",ras:"image/x-cmu-raster",rcprofile:"application/vnd.ipunplugged.rcprofile",rdf:"application/rdf+xml",rdz:"application/vnd.data-vision.rdz",rep:"application/vnd.businessobjects",res:"application/x-dtbresource+xml",rgb:"image/x-rgb",rif:"application/reginfo+xml",rl:"application/resource-lists+xml",rlc:"image/vnd.fujixerox.edmics-rlc",rld:"application/resource-lists-diff+xml",rm:"application/vnd.rn-realmedia",rmi:"audio/midi",rmp:"audio/x-pn-realaudio-plugin",rms:"application/vnd.jcp.javame.midlet-rms",rnc:"application/relax-ng-compact-syntax",roff:"text/troff",rpm:"application/x-rpm",rpss:"application/vnd.nokia.radio-presets",rpst:"application/vnd.nokia.radio-preset",rq:"application/sparql-query",rs:"application/rls-services+xml",rsd:"application/rsd+xml",rss:"application/rss+xml",rtf:"application/rtf",rtx:"text/richtext",s:"text/x-asm",saf:"application/vnd.yamaha.smaf-audio",sbml:"application/sbml+xml",sc:"application/vnd.ibm.secure-container",scd:"application/x-msschedule",scm:"application/vnd.lotus-screencam",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",scurl:"text/vnd.curl.scurl",sda:"application/vnd.stardivision.draw",sdc:"application/vnd.stardivision.calc",sdd:"application/vnd.stardivision.impress",sdkd:"application/vnd.solent.sdkm+xml",sdkm:"application/vnd.solent.sdkm+xml",sdp:"application/sdp",sdw:"application/vnd.stardivision.writer",see:"application/vnd.seemail",seed:"application/vnd.fdsn.seed",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",ser:"application/java-serialized-object",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation","sfd-hdstx":"application/vnd.hydrostatix.sof-data",sfs:"application/vnd.spotfire.sfs",sgl:"application/vnd.stardivision.writer-global",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",shf:"application/shf+xml",si:"text/vnd.wap.si",sic:"application/vnd.wap.sic",sig:"application/pgp-signature",silo:"model/mesh",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",sit:"application/x-stuffit",sitx:"application/x-stuffitx",skd:"application/vnd.koan",skm:"application/vnd.koan",skp:"application/vnd.koan",skt:"application/vnd.koan",sl:"text/vnd.wap.sl",slc:"application/vnd.wap.slc",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",slt:"application/vnd.epson.salt",smf:"application/vnd.stardivision.math",smi:"application/smil+xml",smil:"application/smil+xml",snd:"audio/basic",snf:"application/x-font-snf",so:"application/octet-stream",spc:"application/x-pkcs7-certificates",spf:"application/vnd.yamaha.smaf-phrase",spl:"application/x-futuresplash",spot:"text/vnd.in3d.spot",spp:"application/scvp-vp-response",spq:"application/scvp-vp-request",spx:"audio/ogg",src:"application/x-wais-source",srx:"application/sparql-results+xml",sse:"application/vnd.kodak-descriptor",ssf:"application/vnd.epson.ssf",ssml:"application/ssml+xml",stc:"application/vnd.sun.xml.calc.template",std:"application/vnd.sun.xml.draw.template",stf:"application/vnd.wt.stf",sti:"application/vnd.sun.xml.impress.template",stk:"application/hyperstudio",stl:"application/vnd.ms-pki.stl",str:"application/vnd.pg.format",stw:"application/vnd.sun.xml.writer.template",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svd:"application/vnd.svd",svg:"image/svg+xml",svgz:"image/svg+xml",swa:"application/x-director",swf:"application/x-shockwave-flash",swi:"application/vnd.arastra.swi",sxc:"application/vnd.sun.xml.calc",sxd:"application/vnd.sun.xml.draw",sxg:"application/vnd.sun.xml.writer.global",sxi:"application/vnd.sun.xml.impress",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",t:"text/troff",tao:"application/vnd.tao.intent-module-archive",tar:"application/x-tar",tcap:"application/vnd.3gpp2.tcap",tcl:"application/x-tcl",teacher:"application/vnd.smart.teacher",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"text/plain",tfm:"application/x-tex-tfm",tgz:"application/x-gzip",tif:"image/tiff",tiff:"image/tiff",tmo:"application/vnd.tmobile-livetv",torrent:"application/x-bittorrent",tpl:"application/vnd.groove-tool-template",tpt:"application/vnd.trid.tpt",tr:"text/troff",tra:"application/vnd.trueapp",trm:"application/x-msterminal",tsv:"text/tab-separated-values",ttc:"application/x-font-ttf",ttf:"application/x-font-ttf",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",txd:"application/vnd.genomatix.tuxedo",txf:"application/vnd.mobius.txf",txt:"text/plain",u32:"application/x-authorware-bin",udeb:"application/x-debian-package",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",ustar:"application/x-ustar",utz:"application/vnd.uiq.theme",uu:"text/x-uuencode",vcd:"application/x-cdlink",vcf:"text/x-vcard",vcg:"application/vnd.groove-vcard",vcs:"text/x-vcalendar",vcx:"application/vnd.vcx",vis:"application/vnd.visionary",viv:"video/vnd.vivo",vor:"application/vnd.stardivision.writer",vox:"application/x-authorware-bin",vrml:"model/vrml",vsd:"application/vnd.visio",vsf:"application/vnd.vsf",vss:"application/vnd.visio",vst:"application/vnd.visio",vsw:"application/vnd.visio",vtu:"model/vnd.vtu",vxml:"application/voicexml+xml",w3d:"application/x-director",wad:"application/x-doom",wav:"audio/x-wav",wax:"audio/x-ms-wax",wbmp:"image/vnd.wap.wbmp",wbs:"application/vnd.criticaltools.wbs+xml",wbxml:"application/vnd.wap.wbxml",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wiz:"application/msword",wks:"application/vnd.ms-works",wm:"video/x-ms-wm",wma:"audio/x-ms-wma",wmd:"application/x-ms-wmd",wmf:"application/x-msmetafile",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wmz:"application/x-ms-wmz",wpd:"application/vnd.wordperfect",wpl:"application/vnd.ms-wpl",wps:"application/vnd.ms-works",wqd:"application/vnd.wqd",wri:"application/x-mswrite",wrl:"model/vrml",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",wtb:"application/vnd.webturbo",wvx:"video/x-ms-wvx",x32:"application/x-authorware-bin",x3d:"application/vnd.hzn-3d-crossword",xap:"application/x-silverlight-app",xar:"application/vnd.xara",xbap:"application/x-ms-xbap",xbd:"application/vnd.fujixerox.docuworks.binder",xbm:"image/x-xbitmap",xdm:"application/vnd.syncml.dm+xml",xdp:"application/vnd.adobe.xdp+xml",xdw:"application/vnd.fujixerox.docuworks",xenc:"application/xenc+xml",xer:"application/patch-ops-error+xml",xfdf:"application/vnd.adobe.xfdf",xfdl:"application/vnd.xfdl",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xhvml:"application/xv+xml",xif:"image/vnd.xiff",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlb:"application/vnd.ms-excel",xlc:"application/vnd.ms-excel",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",xml:"application/xml",xo:"application/vnd.olpc-sugar",xop:"application/xop+xml",xpdl:"application/xml",xpi:"application/x-xpinstall",xpm:"image/x-xpixmap",xpr:"application/vnd.is-xpr",xps:"application/vnd.ms-xpsdocument",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",xsl:"application/xml",xslt:"application/xslt+xml",xsm:"application/vnd.syncml+xml",xspf:"application/xspf+xml",xul:"application/vnd.mozilla.xul+xml",xvm:"application/xv+xml",xvml:"application/xv+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zaz:"application/vnd.zzazz.deck+xml",zip:"application/zip",zir:"application/vnd.zul",zirz:"application/vnd.zul",zmm:"application/vnd.handheld-entertainment+xml"}}}]);